(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9415:function(e,t,i){Promise.resolve().then(i.bind(i,4502))},4502:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return ItemsList}});var s=i(7437),n=i(2333),a=i(2265),util_fetcher=e=>fetch(e).then(e=>e.json());function ItemsList(){let{data:e,error:t}=(0,n.ZP)("/api/items",util_fetcher),[i,l]=(0,a.useState)(""),handleAddItem=async()=>{let t={id:{S:""},content:{S:i}},s=e?[...e,t]:[t];(0,n.JG)("/api/items",s,!1);let a=await fetch("/api/item/create",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:i})});a.ok?((0,n.JG)("/api/items"),l("")):(console.error("Failed to add item:",a.statusText),(0,n.JG)("/api/items",e,!1))},handleDeleteItem=async t=>{let i=e.filter(e=>e.id.S!==t);(0,n.JG)("/api/items",i,!1);let s=await fetch("/api/item/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});s.ok?(0,n.JG)("/api/items"):(console.error("Failed to delete item:",s.statusText),(0,n.JG)("/api/items",e,!1))};return t?(0,s.jsxs)("div",{className:"text-red-500",children:["An error has occurred: ",t.message]}):e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"border mt-2 mb-8",children:0===e.length?(0,s.jsx)("div",{className:"p-4 text-gray-500",children:"No items yet."}):(0,s.jsx)("ul",{className:"flex flex-col divide-y",children:e.map((e,t)=>(0,s.jsxs)("li",{className:"p-4 flex items-center justify-between",children:[e.content.S,(0,s.jsx)("button",{onClick:()=>handleDeleteItem(e.id.S),className:"text-red-600 px-2 scale-150",children:"\xd7"})]},t))})}),(0,s.jsx)("h3",{className:"text-lg my-1",children:"Add Item"}),(0,s.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"New item content",className:"border border-gray-300 p-2 rounded-lg mb-4 w-full"}),(0,s.jsx)("button",{onClick:handleAddItem,className:"bg-blue-500 text-white py-2 px-4 rounded mb-4",children:"Add Item"})]}):(0,s.jsx)("div",{className:"text-gray-500 text-xl text-center py-16 italic",children:"Loading..."})}}},function(e){e.O(0,[801,971,472,744],function(){return e(e.s=9415)}),_N_E=e.O()}]);