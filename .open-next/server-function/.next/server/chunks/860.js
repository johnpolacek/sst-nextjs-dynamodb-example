exports.id=860,exports.ids=[860],exports.modules={8949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var n=r(3865),i=r(6089),o=r(8367),s=function(){function AwsCrc32(){this.crc32=new o.Crc32}return AwsCrc32.prototype.update=function(e){(0,i.isEmptyData)(e)||this.crc32.update((0,i.convertToBuffer)(e))},AwsCrc32.prototype.digest=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(e){return[2,(0,i.numToUint8)(this.crc32.digest())]})})},AwsCrc32.prototype.reset=function(){this.crc32=new o.Crc32},AwsCrc32}();t.AwsCrc32=s},8367:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var n=r(3865),i=r(6089);function crc32(e){return new o().update(e).digest()}t.crc32=crc32;var o=function(){function Crc32(){this.checksum=4294967295}return Crc32.prototype.update=function(e){var t,r;try{for(var i=n.__values(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.checksum=this.checksum>>>8^s[(this.checksum^a)&255]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return this},Crc32.prototype.digest=function(){return(4294967295^this.checksum)>>>0},Crc32}();t.Crc32=o;var s=(0,i.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),a=r(8949);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})},5188:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var n=r(7609),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:n.fromUtf8;function convertToBuffer(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.convertToBuffer=convertToBuffer},6089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var n=r(5188);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var i=r(3920);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=r(3845);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=r(2372);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},3920:(e,t)=>{"use strict";function isEmptyData(e){return"string"==typeof e?0===e.length:0===e.byteLength}Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=isEmptyData},3845:(e,t)=>{"use strict";function numToUint8(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=numToUint8},2372:(e,t)=>{"use strict";function uint32ArrayFrom(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=uint32ArrayFrom},3865:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>__assign,__asyncDelegator:()=>__asyncDelegator,__asyncGenerator:()=>__asyncGenerator,__asyncValues:()=>__asyncValues,__await:()=>__await,__awaiter:()=>__awaiter,__classPrivateFieldGet:()=>__classPrivateFieldGet,__classPrivateFieldSet:()=>__classPrivateFieldSet,__createBinding:()=>__createBinding,__decorate:()=>__decorate,__exportStar:()=>__exportStar,__extends:()=>__extends,__generator:()=>__generator,__importDefault:()=>__importDefault,__importStar:()=>__importStar,__makeTemplateObject:()=>__makeTemplateObject,__metadata:()=>__metadata,__param:()=>__param,__read:()=>__read,__rest:()=>__rest,__spread:()=>__spread,__spreadArrays:()=>__spreadArrays,__values:()=>__values});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __rest(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function __decorate(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function __param(e,t){return function(r,n){t(r,n,e)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,r,n){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n.throw(e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})}function __generator(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(e){return function(t){return step([e,t])}}function step(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function __createBinding(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function __exportStar(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},verb("next"),verb("throw"),verb("return"),n[Symbol.asyncIterator]=function(){return this},n;function verb(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||resume(e,t)})})}function resume(e,t){try{step(i[e](t))}catch(e){settle(o[0][3],e)}}function step(e){e.value instanceof __await?Promise.resolve(e.value.v).then(fulfill,reject):settle(o[0][2],e)}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){e(t),o.shift(),o.length&&resume(o[0][0],o[0][1])}}function __asyncDelegator(e){var t,r;return t={},verb("next"),verb("throw",function(e){throw e}),verb("return"),t[Symbol.iterator]=function(){return this},t;function verb(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:__await(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function __asyncValues(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=__values(e),t={},verb("next"),verb("throw"),verb("return"),t[Symbol.asyncIterator]=function(){return this},t);function verb(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){settle(n,i,(t=e[r](t)).done,t.value)})}}function settle(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}function __classPrivateFieldGet(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function __classPrivateFieldSet(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},4022:(e,t,r)=>{"use strict";r.d(t,{c:()=>DynamoDBClient});var n,i,o,s,a,l,d={};r.r(d),r.d(d,{getUserAgentPrefix:()=>getUserAgentPrefix,isVirtualHostableS3Bucket:()=>isVirtualHostableS3Bucket,parseArn:()=>parseArn,partition:()=>partition,setPartitionInfo:()=>setPartitionInfo,useDefaultPartitionInfo:()=>useDefaultPartitionInfo});var c={};r.r(c),r.d(c,{aws:()=>d,booleanEquals:()=>booleanEquals,getAttr:()=>getAttr,isSet:()=>isSet,isValidHostLabel:()=>isValidHostLabel,not:()=>not,parseURL:()=>parseURL,stringEquals:()=>stringEquals,substring:()=>substring,uriEncode:()=>uriEncode});let u=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],p="endpoint_discovery_enabled",isFalsy=e=>["false","0"].indexOf(e)>=0,f={environmentVariableSelector:e=>{for(let t=0;t<u.length;t++){let r=u[t];if(r in e){let t=e[r];if(""===t)throw Error(`Environment variable ${r} can't be empty of undefined, got "${t}"`);return!isFalsy(t)}}},configFileSelector:e=>{if(p in e){let t=e[p];if(void 0===t)throw Error(`Shared config entry ${p} can't be undefined, got "${t}"`);return!isFalsy(t)}},default:void 0};var h=r(9933),m=r(235),g=r.n(m);let EndpointCache=class EndpointCache{constructor(e){this.cache=new(g())(e)}getEndpoint(e){let t=this.get(e);if(!t||0===t.length)return;let r=t.map(e=>e.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let t=this.cache.get(e);if(!t)return;let r=Date.now(),n=t.filter(e=>r<e.Expires);if(0===n.length){this.delete(e);return}return n}set(e,t){let r=Date.now();this.cache.set(e,t.map(({Address:e,CachePeriodInMinutes:t})=>({Address:e,Expires:r+6e4*t})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let t=this.cache.peek(e);return!!t&&t.length>0}clear(){this.cache.clear()}};let resolveEndpointDiscoveryConfig=(e,{endpointDiscoveryCommandCtor:t})=>({...e,endpointDiscoveryCommandCtor:t,endpointCache:new EndpointCache(e.endpointCacheSize??1e3),endpointDiscoveryEnabled:void 0!==e.endpointDiscoveryEnabled?()=>Promise.resolve(e.endpointDiscoveryEnabled):e.endpointDiscoveryEnabledProvider,isClientEndpointDiscoveryEnabled:void 0!==e.endpointDiscoveryEnabled}),hostHeaderMiddleware=e=>t=>async r=>{if(!h.aW.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let e=n.hostname;null!=n.port&&(e+=`:${n.port}`),n.headers.host=e}return t(r)},y={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},getHostHeaderPlugin=e=>({applyToStack:t=>{t.add(hostHeaderMiddleware(e),y)}}),loggerMiddleware=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:i,commandName:o,logger:s,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:d}=a,c=l??t.inputFilterSensitiveLog,u=d??t.outputFilterSensitiveLog,{$metadata:p,...f}=n.output;return s?.info?.({clientName:i,commandName:o,input:c(r.input),output:u(f),metadata:p}),n}catch(l){let{clientName:e,commandName:n,logger:i,dynamoDbDocumentClientOptions:o={}}=t,{overrideInputFilterSensitiveLog:s}=o,a=s??t.inputFilterSensitiveLog;throw i?.error?.({clientName:e,commandName:n,input:a(r.input),error:l,metadata:l.$metadata}),l}},E={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},getLoggerPlugin=e=>({applyToStack:e=>{e.add(loggerMiddleware(),E)}}),v="X-Amzn-Trace-Id",recursionDetectionMiddleware=e=>t=>async r=>{let{request:n}=r;if(!h.aW.isInstance(n)||"node"!==e.runtime||n.headers.hasOwnProperty(v))return t(r);let i=process.env.AWS_LAMBDA_FUNCTION_NAME,o=process.env._X_AMZN_TRACE_ID;return"string"==typeof i&&i.length>0&&"string"==typeof o&&o.length>0&&(n.headers[v]=o),t({...r,request:n})},b={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},getRecursionDetectionPlugin=e=>({applyToStack:t=>{t.add(recursionDetectionMiddleware(e),b)}});var w=r(7988);r(8367);let x={},S={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),x[e]=t,S[t]=e}function fromHex(e){if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in S)t[r/2]=S[n];else throw Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function toHex(e){let t="";for(let r=0;r<e.byteLength;r++)t+=x[e[r]];return t}let Int64=class Int64{constructor(e){if(this.bytes=e,8!==e.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x7fffffffffffffff||e<-0x8000000000000000)throw Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let r=7,n=Math.abs(Math.round(e));r>-1&&n>0;r--,n/=256)t[r]=n;return e<0&&negate(t),new Int64(t)}valueOf(){let e=this.bytes.slice(0),t=128&e[0];return t&&negate(e),parseInt(toHex(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function negate(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}let HeaderMarshaller_HeaderMarshaller=class HeaderMarshaller_HeaderMarshaller{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){let t=[];for(let r of Object.keys(e)){let n=this.fromUtf8(r);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[r]))}let r=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0)),n=0;for(let e of t)r.set(e,n),n+=e.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);let o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":let s=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+s.byteLength));a.setUint8(0,7),a.setUint16(1,s.byteLength,!1);let l=new Uint8Array(a.buffer);return l.set(s,3),l;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(Int64.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!D.test(e.value))throw Error(`Invalid UUID received: ${e.value}`);let c=new Uint8Array(17);return c[0]=9,c.set(fromHex(e.value.replace(/\-/g,"")),1),c}}parse(e){let t={},r=0;for(;r<e.byteLength;){let n=e.getUint8(r++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,n));switch(r+=n,e.getUint8(r++)){case 0:t[i]={type:_,value:!0};break;case 1:t[i]={type:_,value:!1};break;case 2:t[i]={type:C,value:e.getInt8(r++)};break;case 3:t[i]={type:P,value:e.getInt16(r,!1)},r+=2;break;case 4:t[i]={type:A,value:e.getInt32(r,!1)},r+=4;break;case 5:t[i]={type:R,value:new Int64(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:let o=e.getUint16(r,!1);r+=2,t[i]={type:I,value:new Uint8Array(e.buffer,e.byteOffset+r,o)},r+=o;break;case 7:let s=e.getUint16(r,!1);r+=2,t[i]={type:T,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,s))},r+=s;break;case 8:t[i]={type:k,value:new Date(new Int64(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let a=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,t[i]={type:O,value:`${toHex(a.subarray(0,4))}-${toHex(a.subarray(4,6))}-${toHex(a.subarray(6,8))}-${toHex(a.subarray(8,10))}-${toHex(a.subarray(10))}`};break;default:throw Error("Unrecognized header type tag")}}return t}};!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(n||(n={}));let _="boolean",C="byte",P="short",A="integer",R="long",I="binary",T="string",k="timestamp",O="uuid",D=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator;var N=r(8259),$=r(1586);let U="X-Amz-Date",L="X-Amz-Signature",M="X-Amz-Security-Token",j="authorization",F=U.toLowerCase(),z=[j,F,"date"],q=L.toLowerCase(),W="x-amz-content-sha256",B=M.toLowerCase(),H={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},V=/^proxy-/,K=/^sec-/,G="AWS4-HMAC-SHA256",Y="aws4_request",J={},X=[],createScope=(e,t,r)=>`${e}/${t}/${r}/${Y}`,getSigningKey=async(e,t,r,n,i)=>{let o=await hmac(e,t.secretAccessKey,t.accessKeyId),s=`${r}:${n}:${i}:${toHex(o)}:${t.sessionToken}`;if(s in J)return J[s];for(X.push(s);X.length>50;)delete J[X.shift()];let a=`AWS4${t.secretAccessKey}`;for(let t of[r,n,i,Y])a=await hmac(e,a,t);return J[s]=a},hmac=(e,t,r)=>{let n=new e(t);return n.update((0,$._f)(r)),n.digest()},getCanonicalHeaders=({headers:e},t,r)=>{let n={};for(let i of Object.keys(e).sort()){if(void 0==e[i])continue;let o=i.toLowerCase();(!(o in H||t?.has(o)||V.test(o)||K.test(o))||r&&(!r||r.has(o)))&&(n[o]=e[i].trim().replace(/\s+/g," "))}return n};var Z=r(543);let getCanonicalQuery=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===q)continue;t.push(n);let i=e[n];"string"==typeof i?r[n]=`${(0,Z.i)(n)}=${(0,Z.i)(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).reduce((e,t)=>e.concat([`${(0,Z.i)(n)}=${(0,Z.i)(t)}`]),[]).sort().join("&"))}return t.map(e=>r[e]).filter(e=>e).join("&")};var Q=r(4527);let getPayloadHash=async({headers:e,body:t},r)=>{for(let t of Object.keys(e))if(t.toLowerCase()===W)return e[t];if(void 0==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(0,Q.e)(t)){let e=new r;return e.update((0,$._f)(t)),toHex(await e.digest())}return"UNSIGNED-PAYLOAD"},hasHeader=(e,t)=>{for(let r of(e=e.toLowerCase(),Object.keys(t)))if(e===r.toLowerCase())return!0;return!1},cloneRequest=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?cloneQuery(t):void 0}),cloneQuery=e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),moveHeadersToQuery=(e,t={})=>{let{headers:r,query:n={}}="function"==typeof e.clone?e.clone():cloneRequest(e);for(let e of Object.keys(r)){let i=e.toLowerCase();"x-amz-"!==i.slice(0,6)||t.unhoistableHeaders?.has(i)||(n[e]=r[e],delete r[e])}return{...e,headers:r,query:n}},prepareRequest=e=>{for(let t of Object.keys((e="function"==typeof e.clone?e.clone():cloneRequest(e)).headers))z.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},iso8601=e=>toDate(e).toISOString().replace(/\.\d{3}Z$/,"Z"),toDate=e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e;let SignatureV4_SignatureV4=class SignatureV4_SignatureV4{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:i,uriEscapePath:o=!0}){this.headerMarshaller=new HeaderMarshaller_HeaderMarshaller($.GZ,$.$x),this.service=n,this.sha256=i,this.uriEscapePath=o,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=(0,N.$)(r),this.credentialProvider=(0,N.$)(t)}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:s,signingRegion:a,signingService:l}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);let c=a??await this.regionProvider(),{longDate:u,shortDate:p}=formatDate(r);if(n>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let f=createScope(p,c,l??this.service),h=moveHeadersToQuery(prepareRequest(e),{unhoistableHeaders:o});d.sessionToken&&(h.query[M]=d.sessionToken),h.query["X-Amz-Algorithm"]=G,h.query["X-Amz-Credential"]=`${d.accessKeyId}/${f}`,h.query[U]=u,h.query["X-Amz-Expires"]=n.toString(10);let m=getCanonicalHeaders(h,i,s);return h.query["X-Amz-SignedHeaders"]=getCanonicalHeaderList(m),h.query[L]=await this.getSignature(u,f,this.getSigningKey(d,c,p,l),this.createCanonicalRequest(h,m,await getPayloadHash(e,this.sha256))),h}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:i,signingService:o}){let s=i??await this.regionProvider(),{shortDate:a,longDate:l}=formatDate(r),d=createScope(a,s,o??this.service),c=await getPayloadHash({headers:{},body:t},this.sha256),u=new this.sha256;u.update(e);let p=toHex(await u.digest()),f=["AWS4-HMAC-SHA256-PAYLOAD",l,d,n,p,c].join("\n");return this.signString(f,{signingDate:r,signingRegion:s,signingService:o})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){let i=this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature});return i.then(t=>({message:e.message,signature:t}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let o=r??await this.regionProvider(),{shortDate:s}=formatDate(t),a=new this.sha256(await this.getSigningKey(i,o,s,n));return a.update((0,$._f)(e)),toHex(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:i,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let a=i??await this.regionProvider(),l=prepareRequest(e),{longDate:d,shortDate:c}=formatDate(t),u=createScope(c,a,o??this.service);l.headers[F]=d,s.sessionToken&&(l.headers[B]=s.sessionToken);let p=await getPayloadHash(l,this.sha256);!hasHeader(W,l.headers)&&this.applyChecksum&&(l.headers[W]=p);let f=getCanonicalHeaders(l,n,r),h=await this.getSignature(d,u,this.getSigningKey(s,a,c,o),this.createCanonicalRequest(l,f,p));return l.headers[j]=`${G} Credential=${s.accessKeyId}/${u}, SignedHeaders=${getCanonicalHeaderList(f)}, Signature=${h}`,l}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${getCanonicalQuery(e)}
${n.map(e=>`${e}:${t[e]}`).join("\n")}

${n.join(";")}
${r}`}async createStringToSign(e,t,r){let n=new this.sha256;n.update((0,$._f)(r));let i=await n.digest();return`${G}
${e}
${t}
${toHex(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let r of e.split("/"))r?.length!==0&&"."!==r&&(".."===r?t.pop():t.push(r));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`,n=encodeURIComponent(r);return n.replace(/%2F/g,"/")}return e}async getSignature(e,t,r,n){let i=await this.createStringToSign(e,t,n),o=new this.sha256(await r);return o.update((0,$._f)(i)),toHex(await o.digest())}getSigningKey(e,t,r,n){return getSigningKey(this.sha256,e,r,t,n||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw Error("Resolved credential object is not valid")}};let formatDate=e=>{let t=iso8601(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},getCanonicalHeaderList=e=>Object.keys(e).sort().join(";"),resolveAwsAuthConfig=e=>{let t;let r=e.credentials?normalizeCredentialProvider(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:n=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e;return t=e.signer?(0,N.$)(e.signer):e.regionInfoProvider?()=>(0,N.$)(e.region)().then(async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t]).then(([t,i])=>{let{signingRegion:s,signingService:a}=t;e.signingRegion=e.signingRegion||s||i,e.signingName=e.signingName||a||e.serviceId;let l={...e,credentials:r,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:n},d=e.signerConstructor||SignatureV4_SignatureV4;return new d(l)}):async t=>{t=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await (0,N.$)(e.region)(),properties:{}},t);let i=t.signingRegion,s=t.signingName;e.signingRegion=e.signingRegion||i,e.signingName=e.signingName||s||e.serviceId;let a={...e,credentials:r,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:n},l=e.signerConstructor||SignatureV4_SignatureV4;return new l(a)},{...e,systemClockOffset:i,signingEscapePath:n,credentials:r,signer:t}},normalizeCredentialProvider=e=>"function"==typeof e?(0,w.H)(e,e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5,e=>void 0!==e.expiration):(0,N.$)(e),getSkewCorrectedDate=e=>new Date(Date.now()+e),isClockSkewed=(e,t)=>Math.abs(getSkewCorrectedDate(t).getTime()-e)>=3e5,getUpdatedSystemClockOffset=(e,t)=>{let r=Date.parse(e);return isClockSkewed(r,t)?r-Date.now():t},awsAuthMiddleware=e=>(t,r)=>async function(n){if(!h.aW.isInstance(n.request))return t(n);let i=r.endpointV2?.properties?.authSchemes?.[0],o=i?.name==="sigv4a"?i?.signingRegionSet?.join(","):void 0,s=await e.signer(i),a=await t({...n,request:await s.sign(n.request,{signingDate:getSkewCorrectedDate(e.systemClockOffset),signingRegion:o||r.signing_region,signingService:r.signing_service})}).catch(t=>{let r=t.ServerTime??getDateHeader(t.$response);throw r&&(e.systemClockOffset=getUpdatedSystemClockOffset(r,e.systemClockOffset)),t}),l=getDateHeader(a.response);return l&&(e.systemClockOffset=getUpdatedSystemClockOffset(l,e.systemClockOffset)),a},getDateHeader=e=>h.Zn.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,ee={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},getAwsAuthPlugin=e=>({applyToStack:t=>{t.addRelativeTo(awsAuthMiddleware(e),ee)}});function resolveUserAgentConfig(e){return{...e,customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent}}let et=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}'),er=et,en="",partition=e=>{let{partitions:t}=er;for(let r of t){let{regions:t,outputs:n}=r;for(let[r,i]of Object.entries(t))if(r===e)return{...n,...i}}for(let r of t){let{regionRegex:t,outputs:n}=r;if(new RegExp(t).test(e))return{...n}}let r=t.find(e=>"aws"===e.id);if(!r)throw Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},setPartitionInfo=(e,t="")=>{er=e,en=t},useDefaultPartitionInfo=()=>{setPartitionInfo(et,"")},getUserAgentPrefix=()=>en,ei="endpoints";function toDebugString(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${toDebugString(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(toDebugString).join(", ")})`:JSON.stringify(e,null,2)}let EndpointError=class EndpointError extends Error{constructor(e){super(e),this.name="EndpointError"}};let eo=RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),isIpAddress=e=>eo.test(e)||e.startsWith("[")&&e.endsWith("]"),es=RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),isValidHostLabel=(e,t=!1)=>{if(!t)return es.test(e);let r=e.split(".");for(let e of r)if(!isValidHostLabel(e))return!1;return!0},isVirtualHostableS3Bucket=(e,t=!1)=>{if(t){for(let t of e.split("."))if(!isVirtualHostableS3Bucket(t))return!1;return!0}return!(!isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||isIpAddress(e))},parseArn=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,i,o,s,...a]=t;return"arn"!==r||""===n||""===i||""===a[0]?null:{partition:n,service:i,region:o,accountId:s,resourceId:a[0].includes("/")?a[0].split("/"):a}},booleanEquals=(e,t)=>e===t,getAttrPathList=e=>{let t=e.split("."),r=[];for(let n of t){let t=n.indexOf("[");if(-1!==t){if(n.indexOf("]")!==n.length-1)throw new EndpointError(`Path: '${e}' does not end with ']'`);let i=n.slice(t+1,-1);if(Number.isNaN(parseInt(i)))throw new EndpointError(`Invalid array index: '${i}' in path: '${e}'`);0!==t&&r.push(n.slice(0,t)),r.push(i)}else r.push(n)}return r},getAttr=(e,t)=>getAttrPathList(t).reduce((r,n)=>{if("object"!=typeof r)throw new EndpointError(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),isSet=e=>null!=e,not=e=>!e;var ea=r(3610);!function(e){e.AAAA="AAAA",e.A="A"}(i||(i={}));let el={[ea.cj.HTTP]:80,[ea.cj.HTTPS]:443},parseURL=e=>{let t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){let{hostname:t,port:r,protocol:n="",path:i="",query:o={}}=e,s=new URL(`${n}//${t}${r?`:${r}`:""}${i}`);return s.search=Object.entries(o).map(([e,t])=>`${e}=${t}`).join("&"),s}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:i,pathname:o,protocol:s,search:a}=t;if(a)return null;let l=s.slice(0,-1);if(!Object.values(ea.cj).includes(l))return null;let d=isIpAddress(i),c=r.includes(`${n}:${el[l]}`)||"string"==typeof e&&e.includes(`${n}:${el[l]}`),u=`${n}${c?`:${el[l]}`:""}`;return{scheme:l,authority:u,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}},stringEquals=(e,t)=>e===t,substring=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),uriEncode=e=>encodeURIComponent(e).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),evaluateTemplate=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},i=0;for(;i<e.length;){let t=e.indexOf("{",i);if(-1===t){r.push(e.slice(i));break}r.push(e.slice(i,t));let o=e.indexOf("}",t);if(-1===o){r.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[o+1]&&(r.push(e.slice(t+1,o)),i=o+2);let s=e.substring(t+1,o);if(s.includes("#")){let[e,t]=s.split("#");r.push(getAttr(n[e],t))}else r.push(n[s]);i=o+1}return r.join("")},getReferenceValue=({ref:e},t)=>{let r={...t.endpointParams,...t.referenceRecord};return r[e]},evaluateExpression=(e,t,r)=>{if("string"==typeof e)return evaluateTemplate(e,r);if(e.fn)return callFunction(e,r);if(e.ref)return getReferenceValue(e,r);throw new EndpointError(`'${t}': ${String(e)} is not a string, function or reference.`)},callFunction=({fn:e,argv:t},r)=>{let n=t.map(e=>["boolean","number"].includes(typeof e)?e:evaluateExpression(e,"arg",r));return e.split(".").reduce((e,t)=>e[t],c)(...n)},evaluateCondition=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new EndpointError(`'${e}' is already defined in Reference Record.`);let n=callFunction(t,r);return r.logger?.debug?.(ei,`evaluateCondition: ${toDebugString(t)} = ${toDebugString(n)}`),{result:""===n||!!n,...null!=e&&{toAssign:{name:e,value:n}}}},evaluateConditions=(e=[],t)=>{let r={};for(let n of e){let{result:e,toAssign:i}=evaluateCondition(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!e)return{result:e};i&&(r[i.name]=i.value,t.logger?.debug?.(ei,`assign: ${i.name} := ${toDebugString(i.value)}`))}return{result:!0,referenceRecord:r}},getEndpointHeaders=(e,t)=>Object.entries(e).reduce((e,[r,n])=>({...e,[r]:n.map(e=>{let n=evaluateExpression(e,"Header value entry",t);if("string"!=typeof n)throw new EndpointError(`Header '${r}' value '${n}' is not a string`);return n})}),{}),getEndpointProperty=(e,t)=>{if(Array.isArray(e))return e.map(e=>getEndpointProperty(e,t));switch(typeof e){case"string":return evaluateTemplate(e,t);case"object":if(null===e)throw new EndpointError(`Unexpected endpoint property: ${e}`);return getEndpointProperties(e,t);case"boolean":return e;default:throw new EndpointError(`Unexpected endpoint property type: ${typeof e}`)}},getEndpointProperties=(e,t)=>Object.entries(e).reduce((e,[r,n])=>({...e,[r]:getEndpointProperty(n,t)}),{}),getEndpointUrl=(e,t)=>{let r=evaluateExpression(e,"Endpoint URL",t);if("string"==typeof r)try{return new URL(r)}catch(e){throw console.error(`Failed to construct URL with ${r}`,e),e}throw new EndpointError(`Endpoint URL must be a string, got ${typeof r}`)},evaluateEndpointRule=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:i,referenceRecord:o}=evaluateConditions(r,t);if(!i)return;let s={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:l,headers:d}=n;return t.logger?.debug?.(ei,`Resolving endpoint from template: ${toDebugString(n)}`),{...void 0!=d&&{headers:getEndpointHeaders(d,s)},...void 0!=l&&{properties:getEndpointProperties(l,s)},url:getEndpointUrl(a,s)}},evaluateErrorRule=(e,t)=>{let{conditions:r,error:n}=e,{result:i,referenceRecord:o}=evaluateConditions(r,t);if(i)throw new EndpointError(evaluateExpression(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},evaluateTreeRule=(e,t)=>{let{conditions:r,rules:n}=e,{result:i,referenceRecord:o}=evaluateConditions(r,t);if(i)return evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...o}})},evaluateRules=(e,t)=>{for(let r of e)if("endpoint"===r.type){let e=evaluateEndpointRule(r,t);if(e)return e}else if("error"===r.type)evaluateErrorRule(r,t);else if("tree"===r.type){let e=evaluateTreeRule(r,t);if(e)return e}else throw new EndpointError(`Unknown endpoint rule: ${r}`);throw new EndpointError("Rules evaluation failed")},resolveEndpoint=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:i,rules:o}=e;t.logger?.debug?.(`${ei} Initial EndpointParams: ${toDebugString(r)}`);let s=Object.entries(i).filter(([,e])=>null!=e.default).map(([e,t])=>[e,t.default]);if(s.length>0)for(let[e,t]of s)r[e]=r[e]??t;let a=Object.entries(i).filter(([,e])=>e.required).map(([e])=>e);for(let e of a)if(null==r[e])throw new EndpointError(`Missing required parameter: '${e}'`);let l=evaluateRules(o,{endpointParams:r,logger:n,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{let e=new URL(t.endpointParams.Endpoint),{protocol:r,port:n}=e;l.url.protocol=r,l.url.port=n}catch(e){}return t.logger?.debug?.(`${ei} Resolved endpoint: ${toDebugString(l)}`),l},ed="user-agent",ec="x-amz-user-agent",eu=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,ep=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,userAgentMiddleware=e=>(t,r)=>async n=>{let{request:i}=n;if(!h.aW.isInstance(i))return t(n);let{headers:o}=i,s=r?.userAgent?.map(escapeUserAgent)||[],a=(await e.defaultUserAgentProvider()).map(escapeUserAgent),l=e?.customUserAgent?.map(escapeUserAgent)||[],d=getUserAgentPrefix(),c=(d?[d]:[]).concat([...a,...s,...l]).join(" "),u=[...a.filter(e=>e.startsWith("aws-sdk-")),...l].join(" ");return"browser"!==e.runtime?(u&&(o[ec]=o[ec]?`${o[ed]} ${u}`:u),o[ed]=c):o[ec]=c,t({...n,request:i})},escapeUserAgent=e=>{let t=e[0].split("/").map(e=>e.replace(eu,"-")).join("/"),r=e[1]?.replace(ep,"-"),n=t.indexOf("/"),i=t.substring(0,n),o=t.substring(n+1);return"api"===i&&(o=o.toLowerCase()),[i,o,r].filter(e=>e&&e.length>0).reduce((e,t,r)=>{switch(r){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}},"")},ef={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},getUserAgentPlugin=e=>({applyToStack:t=>{t.add(userAgentMiddleware(e),ef)}});!function(e){e.ENV="env",e.CONFIG="shared config entry"}(o||(o={}));let booleanSelector=(e,t,r)=>{if(t in e){if("true"===e[t])return!0;if("false"===e[t])return!1;throw Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},eh={environmentVariableSelector:e=>booleanSelector(e,"AWS_USE_DUALSTACK_ENDPOINT",o.ENV),configFileSelector:e=>booleanSelector(e,"use_dualstack_endpoint",o.CONFIG),default:!1},em={environmentVariableSelector:e=>booleanSelector(e,"AWS_USE_FIPS_ENDPOINT",o.ENV),configFileSelector:e=>booleanSelector(e,"use_fips_endpoint",o.CONFIG),default:!1},eg={environmentVariableSelector:e=>e.AWS_REGION,configFileSelector:e=>e.region,default:()=>{throw Error("Region is missing")}},ey={preferredFile:"credentials"},isFipsRegion=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),getRealRegion=e=>isFipsRegion(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,resolveRegionConfig=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw Error("Region is missing");return{...e,region:async()=>{if("string"==typeof t)return getRealRegion(t);let e=await t();return getRealRegion(e)},useFipsEndpoint:async()=>{let e="string"==typeof t?t:await t();return!!isFipsRegion(e)||("function"!=typeof r?Promise.resolve(!!r):r())}}},eE="content-length";function contentLengthMiddleware(e){return t=>async r=>{let n=r.request;if(h.aW.isInstance(n)){let{body:t,headers:r}=n;if(t&&-1===Object.keys(r).map(e=>e.toLowerCase()).indexOf(eE))try{let r=e(t);n.headers={...n.headers,[eE]:String(r)}}catch(e){}}return t({...r,request:n})}}let ev={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},getContentLengthPlugin=e=>({applyToStack:t=>{t.add(contentLengthMiddleware(e.bodyLengthChecker),ev)}});var eb=r(8054);!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(s||(s={}));let ew=s.STANDARD,ex=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],eS=["TimeoutError","RequestTimeout","RequestTimeoutException"],e_=[500,502,503,504],eC=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],dist_es_isThrottlingError=e=>e.$metadata?.httpStatusCode===429||ex.includes(e.name)||e.$retryable?.throttling==!0,isTransientError=e=>eS.includes(e.name)||eC.includes(e?.code||"")||e_.includes(e.$metadata?.httpStatusCode||0),isServerError=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;if(500<=t&&t<=599&&!isTransientError(e))return!0}return!1};let DefaultRateLimiter_DefaultRateLimiter=class DefaultRateLimiter_DefaultRateLimiter{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(e=>setTimeout(e,t))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),dist_es_isThrottlingError(e)){let e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){let e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}};let getDefaultRetryBackoffStrategy=()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}},createDefaultRetryToken=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>r});let StandardRetryStrategy_StandardRetryStrategy=class StandardRetryStrategy_StandardRetryStrategy{constructor(e){this.maxAttempts=e,this.mode=s.STANDARD,this.capacity=500,this.retryBackoffStrategy=getDefaultRetryBackoffStrategy(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return createDefaultRetryToken({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let r=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===r?500:100);let n=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,n):n,o=this.getCapacityCost(r);return this.capacity-=o,createDefaultRetryToken({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:o})}throw Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,t,r){let n=e.getRetryCount()+1;return n<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}};let AdaptiveRetryStrategy=class AdaptiveRetryStrategy{constructor(e,t){this.maxAttemptsProvider=e,this.mode=s.ADAPTIVE;let{rateLimiter:r}=t??{};this.rateLimiter=r??new DefaultRateLimiter_DefaultRateLimiter,this.standardRetryStrategy=new StandardRetryStrategy_StandardRetryStrategy(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};let eP="AWS_MAX_ATTEMPTS",eA="max_attempts",eR={environmentVariableSelector:e=>{let t=e[eP];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw Error(`Environment variable ${eP} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[eA];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw Error(`Shared config file entry ${eA} mast be a number, got "${t}"`);return r},default:3},resolveRetryConfig=e=>{let{retryStrategy:t}=e,r=(0,N.$)(e.maxAttempts??3);return{...e,maxAttempts:r,retryStrategy:async()=>{if(t)return t;let n=await (0,N.$)(e.retryMode)();return n===s.ADAPTIVE?new AdaptiveRetryStrategy(r):new StandardRetryStrategy_StandardRetryStrategy(r)}}},eI={environmentVariableSelector:e=>e.AWS_RETRY_MODE,configFileSelector:e=>e.retry_mode,default:ew};var eT=r(6113),ek=r.n(eT);let eO=new Uint8Array(256),eD=eO.length;function rng(){return eD>eO.length-16&&(ek().randomFillSync(eO),eD=0),eO.slice(eD,eD+=16)}let eN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(e){return"string"==typeof e&&eN.test(e)}let e$=validate,eU=[];for(let e=0;e<256;++e)eU.push((e+256).toString(16).substr(1));function stringify(e,t=0){let r=(eU[e[t+0]]+eU[e[t+1]]+eU[e[t+2]]+eU[e[t+3]]+"-"+eU[e[t+4]]+eU[e[t+5]]+"-"+eU[e[t+6]]+eU[e[t+7]]+"-"+eU[e[t+8]]+eU[e[t+9]]+"-"+eU[e[t+10]]+eU[e[t+11]]+eU[e[t+12]]+eU[e[t+13]]+eU[e[t+14]]+eU[e[t+15]]).toLowerCase();if(!e$(r))throw TypeError("Stringified UUID is invalid");return r}let eL=stringify;function v4_v4(e,t,r){e=e||{};let n=e.random||(e.rng||rng)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return eL(n)}let eM=v4_v4,util_asSdkError=e=>e instanceof Error?e:e instanceof Object?Object.assign(Error(),e):"string"==typeof e?Error(e):Error(`AWS SDK error wrapper for ${e}`),retryMiddleware=e=>(t,r)=>async n=>{let i=await e.retryStrategy(),o=await e.maxAttempts();if(!isRetryStrategyV2(i))return i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n);{let e=await i.acquireInitialRetryToken(r.partition_id),s=Error(),a=0,l=0,{request:d}=n;for(h.aW.isInstance(d)&&(d.headers["amz-sdk-invocation-id"]=eM());;)try{h.aW.isInstance(d)&&(d.headers["amz-sdk-request"]=`attempt=${a+1}; max=${o}`);let{response:r,output:s}=await t(n);return i.recordSuccess(e),s.$metadata.attempts=a+1,s.$metadata.totalRetryDelay=l,{response:r,output:s}}catch(n){let t=getRetryErrorInfo(n);s=util_asSdkError(n);try{e=await i.refreshRetryTokenForRetry(e,t)}catch(e){throw s.$metadata||(s.$metadata={}),s.$metadata.attempts=a+1,s.$metadata.totalRetryDelay=l,s}a=e.getRetryCount();let r=e.getRetryDelay();l+=r,await new Promise(e=>setTimeout(e,r))}}},isRetryStrategyV2=e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess,getRetryErrorInfo=e=>{let t={errorType:getRetryErrorType(e)},r=getRetryAfterHint(e.$response);return r&&(t.retryAfterHint=r),t},getRetryErrorType=e=>dist_es_isThrottlingError(e)?"THROTTLING":isTransientError(e)?"TRANSIENT":isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",ej={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},getRetryPlugin=e=>({applyToStack:t=>{t.add(retryMiddleware(e),ej)}}),getRetryAfterHint=e=>{if(!h.Zn.isInstance(e))return;let t=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!t)return;let r=e.headers[t],n=Number(r);if(!Number.isNaN(n))return new Date(1e3*n);let i=new Date(r);return i};var eF=r(6919),ez=r(2832),eq=r(6925);let DescribeEndpointsCommand=class DescribeEndpointsCommand extends eF.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,r){this.middlewareStack.use((0,ez.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,eb.a3)(t,DescribeEndpointsCommand.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"DynamoDBClient",commandName:"DescribeEndpointsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[ea.zK]:{service:"DynamoDB_20120810",operation:"DescribeEndpoints"}},{requestHandler:s}=t;return n.resolve(e=>s.handle(e.request,r||{}),o)}serialize(e,t){return(0,eq.OM)(e,t)}deserialize(e,t){return(0,eq.k0)(e,t)}};let resolveClientEndpointParameters=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),eW={i8:"3.437.0"};let STSServiceException=class STSServiceException extends eF.sI{constructor(e){super(e),Object.setPrototypeOf(this,STSServiceException.prototype)}};let ExpiredTokenException=class ExpiredTokenException extends STSServiceException{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,ExpiredTokenException.prototype)}};let MalformedPolicyDocumentException=class MalformedPolicyDocumentException extends STSServiceException{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,MalformedPolicyDocumentException.prototype)}};let PackedPolicyTooLargeException=class PackedPolicyTooLargeException extends STSServiceException{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,PackedPolicyTooLargeException.prototype)}};let RegionDisabledException=class RegionDisabledException extends STSServiceException{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,RegionDisabledException.prototype)}};let IDPRejectedClaimException=class IDPRejectedClaimException extends STSServiceException{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,IDPRejectedClaimException.prototype)}};let InvalidIdentityTokenException=class InvalidIdentityTokenException extends STSServiceException{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,InvalidIdentityTokenException.prototype)}};let IDPCommunicationErrorException=class IDPCommunicationErrorException extends STSServiceException{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,IDPCommunicationErrorException.prototype)}};let CredentialsFilterSensitiveLog=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:eF.oc}}),AssumeRoleResponseFilterSensitiveLog=e=>({...e,...e.Credentials&&{Credentials:CredentialsFilterSensitiveLog(e.Credentials)}}),AssumeRoleWithWebIdentityRequestFilterSensitiveLog=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:eF.oc}}),AssumeRoleWithWebIdentityResponseFilterSensitiveLog=e=>({...e,...e.Credentials&&{Credentials:CredentialsFilterSensitiveLog(e.Credentials)}});var eB=r(703);let se_AssumeRoleCommand=async(e,t)=>{let r;return r=buildFormUrlencodedString({...se_AssumeRoleRequest(e,t),Action:"AssumeRole",Version:"2011-06-15"}),buildHttpRpcRequest(t,eV,"/",void 0,r)},se_AssumeRoleWithWebIdentityCommand=async(e,t)=>{let r;return r=buildFormUrlencodedString({...se_AssumeRoleWithWebIdentityRequest(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),buildHttpRpcRequest(t,eV,"/",void 0,r)},de_AssumeRoleCommand=async(e,t)=>{if(e.statusCode>=300)return de_AssumeRoleCommandError(e,t);let r=await parseBody(e.body,t),n={};n=de_AssumeRoleResponse(r.AssumeRoleResult,t);let i={$metadata:deserializeMetadata(e),...n};return i},de_AssumeRoleCommandError=async(e,t)=>{let r={...e,body:await parseErrorBody(e.body,t)},n=loadQueryErrorCode(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await de_ExpiredTokenExceptionRes(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await de_MalformedPolicyDocumentExceptionRes(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await de_PackedPolicyTooLargeExceptionRes(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await de_RegionDisabledExceptionRes(r,t);default:let i=r.body;return eH({output:e,parsedBody:i.Error,errorCode:n})}},de_AssumeRoleWithWebIdentityCommand=async(e,t)=>{if(e.statusCode>=300)return de_AssumeRoleWithWebIdentityCommandError(e,t);let r=await parseBody(e.body,t),n={};n=de_AssumeRoleWithWebIdentityResponse(r.AssumeRoleWithWebIdentityResult,t);let i={$metadata:deserializeMetadata(e),...n};return i},de_AssumeRoleWithWebIdentityCommandError=async(e,t)=>{let r={...e,body:await parseErrorBody(e.body,t)},n=loadQueryErrorCode(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await de_ExpiredTokenExceptionRes(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await de_IDPCommunicationErrorExceptionRes(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await de_IDPRejectedClaimExceptionRes(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await de_InvalidIdentityTokenExceptionRes(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await de_MalformedPolicyDocumentExceptionRes(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await de_PackedPolicyTooLargeExceptionRes(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await de_RegionDisabledExceptionRes(r,t);default:let i=r.body;return eH({output:e,parsedBody:i.Error,errorCode:n})}},de_ExpiredTokenExceptionRes=async(e,t)=>{let r=e.body,n=de_ExpiredTokenException(r.Error,t),i=new ExpiredTokenException({$metadata:deserializeMetadata(e),...n});return(0,eF.to)(i,r)},de_IDPCommunicationErrorExceptionRes=async(e,t)=>{let r=e.body,n=de_IDPCommunicationErrorException(r.Error,t),i=new IDPCommunicationErrorException({$metadata:deserializeMetadata(e),...n});return(0,eF.to)(i,r)},de_IDPRejectedClaimExceptionRes=async(e,t)=>{let r=e.body,n=de_IDPRejectedClaimException(r.Error,t),i=new IDPRejectedClaimException({$metadata:deserializeMetadata(e),...n});return(0,eF.to)(i,r)},de_InvalidIdentityTokenExceptionRes=async(e,t)=>{let r=e.body,n=de_InvalidIdentityTokenException(r.Error,t),i=new InvalidIdentityTokenException({$metadata:deserializeMetadata(e),...n});return(0,eF.to)(i,r)},de_MalformedPolicyDocumentExceptionRes=async(e,t)=>{let r=e.body,n=de_MalformedPolicyDocumentException(r.Error,t),i=new MalformedPolicyDocumentException({$metadata:deserializeMetadata(e),...n});return(0,eF.to)(i,r)},de_PackedPolicyTooLargeExceptionRes=async(e,t)=>{let r=e.body,n=de_PackedPolicyTooLargeException(r.Error,t),i=new PackedPolicyTooLargeException({$metadata:deserializeMetadata(e),...n});return(0,eF.to)(i,r)},de_RegionDisabledExceptionRes=async(e,t)=>{let r=e.body,n=de_RegionDisabledException(r.Error,t),i=new RegionDisabledException({$metadata:deserializeMetadata(e),...n});return(0,eF.to)(i,r)},se_AssumeRoleRequest=(e,t)=>{let r={};if(null!=e.RoleArn&&(r.RoleArn=e.RoleArn),null!=e.RoleSessionName&&(r.RoleSessionName=e.RoleSessionName),null!=e.PolicyArns){let n=se_policyDescriptorListType(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([e,t])=>{let n=`PolicyArns.${e}`;r[n]=t})}if(null!=e.Policy&&(r.Policy=e.Policy),null!=e.DurationSeconds&&(r.DurationSeconds=e.DurationSeconds),null!=e.Tags){let n=se_tagListType(e.Tags,t);e.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([e,t])=>{let n=`Tags.${e}`;r[n]=t})}if(null!=e.TransitiveTagKeys){let n=se_tagKeyListType(e.TransitiveTagKeys,t);e.TransitiveTagKeys?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([e,t])=>{let n=`TransitiveTagKeys.${e}`;r[n]=t})}if(null!=e.ExternalId&&(r.ExternalId=e.ExternalId),null!=e.SerialNumber&&(r.SerialNumber=e.SerialNumber),null!=e.TokenCode&&(r.TokenCode=e.TokenCode),null!=e.SourceIdentity&&(r.SourceIdentity=e.SourceIdentity),null!=e.ProvidedContexts){let n=se_ProvidedContextsListType(e.ProvidedContexts,t);e.ProvidedContexts?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([e,t])=>{let n=`ProvidedContexts.${e}`;r[n]=t})}return r},se_AssumeRoleWithWebIdentityRequest=(e,t)=>{let r={};if(null!=e.RoleArn&&(r.RoleArn=e.RoleArn),null!=e.RoleSessionName&&(r.RoleSessionName=e.RoleSessionName),null!=e.WebIdentityToken&&(r.WebIdentityToken=e.WebIdentityToken),null!=e.ProviderId&&(r.ProviderId=e.ProviderId),null!=e.PolicyArns){let n=se_policyDescriptorListType(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([e,t])=>{let n=`PolicyArns.${e}`;r[n]=t})}return null!=e.Policy&&(r.Policy=e.Policy),null!=e.DurationSeconds&&(r.DurationSeconds=e.DurationSeconds),r},se_policyDescriptorListType=(e,t)=>{let r={},n=1;for(let i of e){if(null===i)continue;let e=se_PolicyDescriptorType(i,t);Object.entries(e).forEach(([e,t])=>{r[`member.${n}.${e}`]=t}),n++}return r},se_PolicyDescriptorType=(e,t)=>{let r={};return null!=e.arn&&(r.arn=e.arn),r},se_ProvidedContext=(e,t)=>{let r={};return null!=e.ProviderArn&&(r.ProviderArn=e.ProviderArn),null!=e.ContextAssertion&&(r.ContextAssertion=e.ContextAssertion),r},se_ProvidedContextsListType=(e,t)=>{let r={},n=1;for(let i of e){if(null===i)continue;let e=se_ProvidedContext(i,t);Object.entries(e).forEach(([e,t])=>{r[`member.${n}.${e}`]=t}),n++}return r},se_Tag=(e,t)=>{let r={};return null!=e.Key&&(r.Key=e.Key),null!=e.Value&&(r.Value=e.Value),r},se_tagKeyListType=(e,t)=>{let r={},n=1;for(let t of e)null!==t&&(r[`member.${n}`]=t,n++);return r},se_tagListType=(e,t)=>{let r={},n=1;for(let i of e){if(null===i)continue;let e=se_Tag(i,t);Object.entries(e).forEach(([e,t])=>{r[`member.${n}.${e}`]=t}),n++}return r},de_AssumedRoleUser=(e,t)=>{let r={};return void 0!==e.AssumedRoleId&&(r.AssumedRoleId=(0,eF.pY)(e.AssumedRoleId)),void 0!==e.Arn&&(r.Arn=(0,eF.pY)(e.Arn)),r},de_AssumeRoleResponse=(e,t)=>{let r={};return void 0!==e.Credentials&&(r.Credentials=de_Credentials(e.Credentials,t)),void 0!==e.AssumedRoleUser&&(r.AssumedRoleUser=de_AssumedRoleUser(e.AssumedRoleUser,t)),void 0!==e.PackedPolicySize&&(r.PackedPolicySize=(0,eF.AF)(e.PackedPolicySize)),void 0!==e.SourceIdentity&&(r.SourceIdentity=(0,eF.pY)(e.SourceIdentity)),r},de_AssumeRoleWithWebIdentityResponse=(e,t)=>{let r={};return void 0!==e.Credentials&&(r.Credentials=de_Credentials(e.Credentials,t)),void 0!==e.SubjectFromWebIdentityToken&&(r.SubjectFromWebIdentityToken=(0,eF.pY)(e.SubjectFromWebIdentityToken)),void 0!==e.AssumedRoleUser&&(r.AssumedRoleUser=de_AssumedRoleUser(e.AssumedRoleUser,t)),void 0!==e.PackedPolicySize&&(r.PackedPolicySize=(0,eF.AF)(e.PackedPolicySize)),void 0!==e.Provider&&(r.Provider=(0,eF.pY)(e.Provider)),void 0!==e.Audience&&(r.Audience=(0,eF.pY)(e.Audience)),void 0!==e.SourceIdentity&&(r.SourceIdentity=(0,eF.pY)(e.SourceIdentity)),r},de_Credentials=(e,t)=>{let r={};return void 0!==e.AccessKeyId&&(r.AccessKeyId=(0,eF.pY)(e.AccessKeyId)),void 0!==e.SecretAccessKey&&(r.SecretAccessKey=(0,eF.pY)(e.SecretAccessKey)),void 0!==e.SessionToken&&(r.SessionToken=(0,eF.pY)(e.SessionToken)),void 0!==e.Expiration&&(r.Expiration=(0,eF.CE)((0,eF.aH)(e.Expiration))),r},de_ExpiredTokenException=(e,t)=>{let r={};return void 0!==e.message&&(r.message=(0,eF.pY)(e.message)),r},de_IDPCommunicationErrorException=(e,t)=>{let r={};return void 0!==e.message&&(r.message=(0,eF.pY)(e.message)),r},de_IDPRejectedClaimException=(e,t)=>{let r={};return void 0!==e.message&&(r.message=(0,eF.pY)(e.message)),r},de_InvalidIdentityTokenException=(e,t)=>{let r={};return void 0!==e.message&&(r.message=(0,eF.pY)(e.message)),r},de_MalformedPolicyDocumentException=(e,t)=>{let r={};return void 0!==e.message&&(r.message=(0,eF.pY)(e.message)),r},de_PackedPolicyTooLargeException=(e,t)=>{let r={};return void 0!==e.message&&(r.message=(0,eF.pY)(e.message)),r},de_RegionDisabledException=(e,t)=>{let r={};return void 0!==e.message&&(r.message=(0,eF.pY)(e.message)),r},deserializeMetadata=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),collectBodyString=(e,t)=>(0,eF.Wg)(e,t).then(e=>t.utf8Encoder(e)),eH=(0,eF.PC)(STSServiceException),buildHttpRpcRequest=async(e,t,r,n,i)=>{let{hostname:o,protocol:s="https",port:a,path:l}=await e.endpoint(),d={protocol:s,hostname:o,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+r:l+r,headers:t};return void 0!==n&&(d.hostname=n),void 0!==i&&(d.body=i),new h.aW(d)},eV={"content-type":"application/x-www-form-urlencoded"},parseBody=(e,t)=>collectBodyString(e,t).then(e=>{if(e.length){let t=new eB.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});t.addEntity("#xD","\r"),t.addEntity("#10","\n");let r=t.parse(e),n="#text",i=Object.keys(r)[0],o=r[i];return o[n]&&(o[i]=o[n],delete o[n]),(0,eF.sT)(o)}return{}}),parseErrorBody=async(e,t)=>{let r=await parseBody(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},buildFormUrlencodedString=e=>Object.entries(e).map(([e,t])=>(0,eF.jc)(e)+"="+(0,eF.jc)(t)).join("&"),loadQueryErrorCode=(e,t)=>t.Error?.Code!==void 0?t.Error.Code:404==e.statusCode?"NotFound":void 0;let AssumeRoleCommand=class AssumeRoleCommand extends eF.mY{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,r){this.middlewareStack.use((0,ez.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,eb.a3)(t,AssumeRoleCommand.getEndpointParameterInstructions())),this.middlewareStack.use(getAwsAuthPlugin(t));let n=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:AssumeRoleResponseFilterSensitiveLog,[ea.zK]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRole"}},{requestHandler:s}=t;return n.resolve(e=>s.handle(e.request,r||{}),o)}serialize(e,t){return se_AssumeRoleCommand(e,t)}deserialize(e,t){return de_AssumeRoleCommand(e,t)}};let AssumeRoleWithWebIdentityCommand=class AssumeRoleWithWebIdentityCommand extends eF.mY{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,r){this.middlewareStack.use((0,ez.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,eb.a3)(t,AssumeRoleWithWebIdentityCommand.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:AssumeRoleWithWebIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:AssumeRoleWithWebIdentityResponseFilterSensitiveLog,[ea.zK]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRoleWithWebIdentity"}},{requestHandler:s}=t;return n.resolve(e=>s.handle(e.request,r||{}),o)}serialize(e,t){return se_AssumeRoleWithWebIdentityCommand(e,t)}deserialize(e,t){return de_AssumeRoleWithWebIdentityCommand(e,t)}};let eK="us-east-1",decorateDefaultRegion=e=>"function"!=typeof e?void 0===e?eK:e:async()=>{try{return await e()}catch(e){return eK}},getDefaultRoleAssumer=(e,t)=>{let r,n;return async(i,o)=>{if(n=i,!r){let{logger:i,region:o,requestHandler:s}=e;r=new t({logger:i,credentialDefaultProvider:()=>async()=>n,region:decorateDefaultRegion(o||e.region),...s?{requestHandler:s}:{}})}let{Credentials:s}=await r.send(new AssumeRoleCommand(o));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}},getDefaultRoleAssumerWithWebIdentity=(e,t)=>{let r;return async n=>{if(!r){let{logger:n,region:i,requestHandler:o}=e;r=new t({logger:n,region:decorateDefaultRegion(i||e.region),...o?{requestHandler:o}:{}})}let{Credentials:i}=await r.send(new AssumeRoleWithWebIdentityCommand(n));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},decorateDefaultCredentialProvider=e=>t=>e({roleAssumer:getDefaultRoleAssumer(t,t.stsClientCtor),roleAssumerWithWebIdentity:getDefaultRoleAssumerWithWebIdentity(t,t.stsClientCtor),...t}),resolveStsAuthConfig=(e,{stsClientCtor:t})=>resolveAwsAuthConfig({...e,stsClientCtor:t}),EndpointParameters_resolveClientEndpointParameters=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),eG={i8:"3.437.0"},eY=!1,emitWarningIfUnsupportedVersion=e=>{e&&!eY&&16>parseInt(e.substring(1,e.indexOf(".")))&&(eY=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 14.x on May 1, 2024.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to an active Node.js LTS version.

More information can be found at: https://a.co/dzr2AJd`))};var eJ=r(6348);let fromEnv=()=>async()=>{let e=process.env.AWS_ACCESS_KEY_ID,t=process.env.AWS_SECRET_ACCESS_KEY,r=process.env.AWS_SESSION_TOKEN,n=process.env.AWS_CREDENTIAL_EXPIRATION;if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new eJ.m("Unable to find environment variable credentials.")};var eX=r(3476),eZ=r(7310),eQ=r(510),e0=r(4300),e1=r(3685);function httpRequest(e){return new Promise((t,r)=>{let n=(0,e1.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",e=>{r(Object.assign(new eQ.k("Unable to connect to instance metadata service"),e)),n.destroy()}),n.on("timeout",()=>{r(new eQ.k("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",e=>{let{statusCode:i=400}=e;(i<200||300<=i)&&(r(Object.assign(new eQ.k("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let o=[];e.on("data",e=>{o.push(e)}),e.on("end",()=>{t(e0.Buffer.concat(o)),n.destroy()})}),n.end()})}let isImdsCredentials=e=>!!e&&"object"==typeof e&&"string"==typeof e.AccessKeyId&&"string"==typeof e.SecretAccessKey&&"string"==typeof e.Token&&"string"==typeof e.Expiration,fromImdsCredentials=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),e2=1e3,e3=0,providerConfigFromInit=({maxRetries:e=e3,timeout:t=e2})=>({maxRetries:e,timeout:t}),retry=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},e8="AWS_CONTAINER_CREDENTIALS_FULL_URI",e6="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",e4="AWS_CONTAINER_AUTHORIZATION_TOKEN",fromContainerMetadata=(e={})=>{let{timeout:t,maxRetries:r}=providerConfigFromInit(e);return()=>retry(async()=>{let e=await getCmdsUri(),r=JSON.parse(await requestFromEcsImds(t,e));if(!isImdsCredentials(r))throw new eJ.m("Invalid response received from instance metadata service.");return fromImdsCredentials(r)},r)},requestFromEcsImds=async(e,t)=>{process.env[e4]&&(t.headers={...t.headers,Authorization:process.env[e4]});let r=await httpRequest({...t,timeout:e});return r.toString()},e5={localhost:!0,"127.0.0.1":!0},e9={"http:":!0,"https:":!0},getCmdsUri=async()=>{if(process.env[e6])return{hostname:"169.254.170.2",path:process.env[e6]};if(process.env[e8]){let e=(0,eZ.parse)(process.env[e8]);if(!e.hostname||!(e.hostname in e5))throw new eJ.m(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in e9))throw new eJ.m(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new eJ.m(`The container metadata credential provider cannot be used unless the ${e6} or ${e8} environment variable is set`,!1)};var e7=r(5900),te=r(2944);!function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"}(a||(a={}));let tt={environmentVariableSelector:e=>e.AWS_EC2_METADATA_SERVICE_ENDPOINT,configFileSelector:e=>e.ec2_metadata_service_endpoint,default:void 0};!function(e){e.IPv4="IPv4",e.IPv6="IPv6"}(l||(l={}));let tr={environmentVariableSelector:e=>e.AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE,configFileSelector:e=>e.ec2_metadata_service_endpoint_mode,default:l.IPv4},getInstanceMetadataEndpoint=async()=>(0,te.e)(await getFromEndpointConfig()||await getFromEndpointModeConfig()),getFromEndpointConfig=async()=>(0,e7.M)(tt)(),getFromEndpointModeConfig=async()=>{let e=await (0,e7.M)(tr)();switch(e){case l.IPv4:return a.IPv4;case l.IPv6:return a.IPv6;default:throw Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(l)}`)}},getExtendedInstanceMetadataCredentials=(e,t)=>{let r=new Date(Date.now()+1e3*(300+Math.floor(300*Math.random())));t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html");let n=e.originalExpiration??e.expiration;return{...e,...n?{originalExpiration:n}:{},expiration:r}},staticStabilityProvider=(e,t={})=>{let r;let n=t?.logger||console;return async()=>{let t;try{(t=await e()).expiration&&t.expiration.getTime()<Date.now()&&(t=getExtendedInstanceMetadataCredentials(t,n))}catch(e){if(r)n.warn("Credential renew failed: ",e),t=getExtendedInstanceMetadataCredentials(r,n);else throw e}return r=t,t}},tn="/latest/meta-data/iam/security-credentials/",fromInstanceMetadata=(e={})=>staticStabilityProvider(getInstanceImdsProvider(e),{logger:e.logger}),getInstanceImdsProvider=e=>{let t=!1,{timeout:r,maxRetries:n}=providerConfigFromInit(e),getCredentials=async(e,r)=>{let n=(await retry(async()=>{let e;try{e=await getProfile(r)}catch(e){throw 401===e.statusCode&&(t=!1),e}return e},e)).trim();return retry(async()=>{let e;try{e=await getCredentialsFromProfile(n,r)}catch(e){throw 401===e.statusCode&&(t=!1),e}return e},e)};return async()=>{let e=await getInstanceMetadataEndpoint();if(t)return getCredentials(n,{...e,timeout:r});{let i;try{i=(await getMetadataToken({...e,timeout:r})).toString()}catch(i){if(i?.statusCode===400)throw Object.assign(i,{message:"EC2 Metadata token request returned error"});return("TimeoutError"===i.message||[403,404,405].includes(i.statusCode))&&(t=!0),getCredentials(n,{...e,timeout:r})}return getCredentials(n,{...e,headers:{"x-aws-ec2-metadata-token":i},timeout:r})}}},getMetadataToken=async e=>httpRequest({...e,path:"/latest/api/token",method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),getProfile=async e=>(await httpRequest({...e,path:tn})).toString(),getCredentialsFromProfile=async(e,t)=>{let r=JSON.parse((await httpRequest({...t,path:tn+e})).toString());if(!isImdsCredentials(r))throw new eJ.m("Invalid response received from instance metadata service.");return fromImdsCredentials(r)},resolveCredentialSource=(e,t)=>{let r={EcsContainer:fromContainerMetadata,Ec2InstanceMetadata:fromInstanceMetadata,Environment:fromEnv};if(e in r)return r[e]();throw new eJ.m(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)},isAssumeRoleProfile=e=>!!e&&"object"==typeof e&&"string"==typeof e.role_arn&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(isAssumeRoleWithSourceProfile(e)||isAssumeRoleWithProviderProfile(e)),isAssumeRoleWithSourceProfile=e=>"string"==typeof e.source_profile&&void 0===e.credential_source,isAssumeRoleWithProviderProfile=e=>"string"==typeof e.credential_source&&void 0===e.source_profile,resolveAssumeRoleCredentials=async(e,t,r,n={})=>{let i=t[e];if(!r.roleAssumer)throw new eJ.m(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:o}=i;if(o&&o in n)throw new eJ.m(`Detected a cycle attempting to resolve credentials for profile ${(0,eX.Jl)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let s=o?resolveProfileData(o,t,r,{...n,[o]:!0}):resolveCredentialSource(i.credential_source,e)(),a={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:l}=i;if(l){if(!r.mfaCodeProvider)throw new eJ.m(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=l,a.TokenCode=await r.mfaCodeProvider(l)}let d=await s;return r.roleAssumer(d,a)};var ti=r(2081),to=r(3837);let getValidatedProcessCredentials=(e,t)=>{if(1!==t.Version)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(void 0===t.AccessKeyId||void 0===t.SecretAccessKey)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date,n=new Date(t.Expiration);if(n<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}},resolveProcessCredentials=async(e,t)=>{let r=t[e];if(t[e]){let t=r.credential_process;if(void 0!==t){let r=(0,to.promisify)(ti.exec);try{let n;let{stdout:i}=await r(t);try{n=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return getValidatedProcessCredentials(e,n)}catch(e){throw new eJ.m(e.message)}}else throw new eJ.m(`Profile ${e} did not contain credential_process.`)}else throw new eJ.m(`Profile ${e} could not be found in shared credentials file.`)},fromProcess=(e={})=>async()=>{let t=await (0,eX.MX)(e);return resolveProcessCredentials((0,eX.Jl)(e),t)},isProcessProfile=e=>!!e&&"object"==typeof e&&"string"==typeof e.credential_process,resolveProcessCredentials_resolveProcessCredentials=async(e,t)=>fromProcess({...e,profile:t})(),isSsoProfile=e=>e&&("string"==typeof e.sso_start_url||"string"==typeof e.sso_account_id||"string"==typeof e.sso_session||"string"==typeof e.sso_region||"string"==typeof e.sso_role_name),endpoint_EndpointParameters_resolveClientEndpointParameters=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),ts={i8:"3.437.0"};var ta=r(2037),tl=r(7282);let td={isCrtAvailable:!1},isCrtAvailable=()=>td.isCrtAvailable?["md/crt-avail"]:null,defaultUserAgent=({serviceId:e,clientVersion:t})=>{let r;let n=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,ta.platform)()}`,(0,ta.release)()],["lang/js"],["md/nodejs",`${tl.versions.node}`]],i=isCrtAvailable();i&&n.push(i),e&&n.push([`api/${e}`,t]),tl.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${tl.env.AWS_EXECUTION_ENV}`]);let o=(0,e7.M)({environmentVariableSelector:e=>e.AWS_SDK_UA_APP_ID,configFileSelector:e=>e["sdk-ua-app-id"],default:void 0})();return async()=>{if(!r){let e=await o;r=e?[...n,[`app/${e}`]]:[...n]}return r}};var tc=r(1128);let Hash=class Hash{constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,$._f)(castSourceData(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,eT.createHmac)(this.algorithmIdentifier,castSourceData(this.secret)):(0,eT.createHash)(this.algorithmIdentifier)}};function castSourceData(e,t){return e0.Buffer.isBuffer(e)?e:"string"==typeof e?(0,tc.m)(e,t):ArrayBuffer.isView(e)?(0,tc.g)(e.buffer,e.byteOffset,e.byteLength):(0,tc.g)(e)}var tu=r(7734),tp=r(7147);let calculateBodyLength=e=>{if(!e)return 0;if("string"==typeof e)return Buffer.from(e).length;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;if("number"==typeof e.start&&"number"==typeof e.end)return e.end+1-e.start;if("string"==typeof e.path||Buffer.isBuffer(e.path))return(0,tp.lstatSync)(e.path).size;if("number"==typeof e.fd)return(0,tp.fstatSync)(e.fd).size;throw Error(`Body Length computation failed for ${e}`)};var tf=r(4585);let th="required",tm="argv",tg="isSet",ty="booleanEquals",tE="error",tv="endpoint",tb="tree",tw="PartitionResult",tx="getAttr",tS={[th]:!1,type:"String"},t_={[th]:!0,default:!1,type:"Boolean"},tC={ref:"Endpoint"},tP={fn:ty,[tm]:[{ref:"UseFIPS"},!0]},tA={fn:ty,[tm]:[{ref:"UseDualStack"},!0]},tR={},tI={fn:tx,[tm]:[{ref:tw},"supportsFIPS"]},tT={ref:tw},tk={fn:ty,[tm]:[!0,{fn:tx,[tm]:[tT,"supportsDualStack"]}]},tO=[tP],tD=[tA],tN=[{ref:"Region"}],t$={version:"1.0",parameters:{Region:tS,UseDualStack:t_,UseFIPS:t_,Endpoint:tS},rules:[{conditions:[{fn:tg,[tm]:[tC]}],rules:[{conditions:tO,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:tE},{conditions:tD,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:tE},{endpoint:{url:tC,properties:tR,headers:tR},type:tv}],type:tb},{conditions:[{fn:tg,[tm]:tN}],rules:[{conditions:[{fn:"aws.partition",[tm]:tN,assign:tw}],rules:[{conditions:[tP,tA],rules:[{conditions:[{fn:ty,[tm]:[!0,tI]},tk],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tR,headers:tR},type:tv}],type:tb},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:tE}],type:tb},{conditions:tO,rules:[{conditions:[{fn:ty,[tm]:[tI,!0]}],rules:[{conditions:[{fn:"stringEquals",[tm]:[{fn:tx,[tm]:[tT,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:tR,headers:tR},type:tv},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:tR,headers:tR},type:tv}],type:tb},{error:"FIPS is enabled but this partition does not support FIPS",type:tE}],type:tb},{conditions:tD,rules:[{conditions:[tk],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tR,headers:tR},type:tv}],type:tb},{error:"DualStack is enabled but this partition does not support DualStack",type:tE}],type:tb},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:tR,headers:tR},type:tv}],type:tb}],type:tb},{error:"Invalid Configuration: Missing Region",type:tE}]},defaultEndpointResolver=(e,t={})=>resolveEndpoint(t$,{endpointParams:e,logger:t.logger}),getRuntimeConfig=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??tf.G,base64Encoder:e?.base64Encoder??tf.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??defaultEndpointResolver,extensions:e?.extensions??[],logger:e?.logger??new eF.vk,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??te.e,utf8Decoder:e?.utf8Decoder??$.$x,utf8Encoder:e?.utf8Encoder??$.GZ}),tU="AWS_REGION",tL="AWS_DEFAULT_REGION",tM=["in-region","cross-region","mobile","standard","legacy"],tj={environmentVariableSelector:e=>e.AWS_DEFAULTS_MODE,configFileSelector:e=>e.defaults_mode,default:"legacy"},resolveDefaultsModeConfig=({region:e=(0,e7.M)(eg),defaultsMode:t=(0,e7.M)(tj)}={})=>(0,w.H)(async()=>{let r="function"==typeof t?await t():t;switch(r?.toLowerCase()){case"auto":return resolveNodeDefaultsModeAuto(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw Error(`Invalid parameter for "defaultsMode", expect ${tM.join(", ")}, got ${r}`)}}),resolveNodeDefaultsModeAuto=async e=>{if(e){let t="function"==typeof e?await e():e,r=await inferPhysicalRegion();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},inferPhysicalRegion=async()=>{if(process.env.AWS_EXECUTION_ENV&&(process.env[tU]||process.env[tL]))return process.env[tU]??process.env[tL];if(!process.env.AWS_EC2_METADATA_DISABLED)try{let e=await getInstanceMetadataEndpoint();return(await httpRequest({...e,path:"/latest/meta-data/placement/region"})).toString()}catch(e){}},runtimeConfig_getRuntimeConfig=e=>{(0,eF.H_)(process.version);let t=resolveDefaultsModeConfig(e),defaultConfigProvider=()=>t().then(eF.jv),r=getRuntimeConfig(e);return emitWarningIfUnsupportedVersion(process.version),{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??defaultUserAgent({serviceId:r.serviceId,clientVersion:ts.i8}),maxAttempts:e?.maxAttempts??(0,e7.M)(eR),region:e?.region??(0,e7.M)(eg,ey),requestHandler:e?.requestHandler??new tu.NA(defaultConfigProvider),retryMode:e?.retryMode??(0,e7.M)({...eI,default:async()=>(await defaultConfigProvider()).retryMode||ew}),sha256:e?.sha256??Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??tu.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,e7.M)(eh),useFipsEndpoint:e?.useFipsEndpoint??(0,e7.M)(em)}},getAwsRegionExtensionConfiguration=e=>{let runtimeConfigRegion=async()=>{if(void 0===e.region)throw Error("Region is missing from runtimeConfig");let t=e.region;return"string"==typeof t?t:t()};return{setRegion(e){runtimeConfigRegion=e},region:()=>runtimeConfigRegion}},resolveAwsRegionExtensionConfiguration=e=>({region:e.region()}),asPartial=e=>e,resolveRuntimeExtensions=(e,t)=>{let r={...asPartial(getAwsRegionExtensionConfiguration(e)),...asPartial((0,eF.kE)(e)),...asPartial((0,h.cA)(e))};return t.forEach(e=>e.configure(r)),{...e,...resolveAwsRegionExtensionConfiguration(r),...(0,eF.SQ)(r),...(0,h.AO)(r)}};let SSOClient=class SSOClient extends eF.KU{constructor(...[e]){let t=runtimeConfig_getRuntimeConfig(e||{}),r=endpoint_EndpointParameters_resolveClientEndpointParameters(t),n=resolveRegionConfig(r),i=(0,eb.uW)(n),o=resolveRetryConfig(i),s=resolveUserAgentConfig(o),a=resolveRuntimeExtensions(s,e?.extensions||[]);super(a),this.config=a,this.middlewareStack.use(getRetryPlugin(this.config)),this.middlewareStack.use(getContentLengthPlugin(this.config)),this.middlewareStack.use(getHostHeaderPlugin(this.config)),this.middlewareStack.use(getLoggerPlugin(this.config)),this.middlewareStack.use(getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(getUserAgentPlugin(this.config))}destroy(){super.destroy()}};let SSOServiceException=class SSOServiceException extends eF.sI{constructor(e){super(e),Object.setPrototypeOf(this,SSOServiceException.prototype)}};let InvalidRequestException=class InvalidRequestException extends SSOServiceException{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,InvalidRequestException.prototype)}};let ResourceNotFoundException=class ResourceNotFoundException extends SSOServiceException{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ResourceNotFoundException.prototype)}};let TooManyRequestsException=class TooManyRequestsException extends SSOServiceException{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,TooManyRequestsException.prototype)}};let UnauthorizedException=class UnauthorizedException extends SSOServiceException{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,UnauthorizedException.prototype)}};let GetRoleCredentialsRequestFilterSensitiveLog=e=>({...e,...e.accessToken&&{accessToken:eF.oc}}),RoleCredentialsFilterSensitiveLog=e=>({...e,...e.secretAccessKey&&{secretAccessKey:eF.oc},...e.sessionToken&&{sessionToken:eF.oc}}),GetRoleCredentialsResponseFilterSensitiveLog=e=>({...e,...e.roleCredentials&&{roleCredentials:RoleCredentialsFilterSensitiveLog(e.roleCredentials)}}),se_GetRoleCredentialsCommand=async(e,t)=>{let r;let{hostname:n,protocol:i="https",port:o,path:s}=await t.endpoint(),a=(0,eF.UI)({},isSerializableHeaderValue,{"x-amz-sso_bearer_token":e.accessToken}),l=`${s?.endsWith("/")?s.slice(0,-1):s||""}/federation/credentials`,d=(0,eF.UI)({role_name:[,(0,eF.CE)(e.roleName,"roleName")],account_id:[,(0,eF.CE)(e.accountId,"accountId")]});return new h.aW({protocol:i,hostname:n,port:o,method:"GET",headers:a,path:l,query:d,body:r})},de_GetRoleCredentialsCommand=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return de_GetRoleCredentialsCommandError(e,t);let r=(0,eF.UI)({$metadata:Aws_restJson1_deserializeMetadata(e)}),n=(0,eF.CE)((0,eF.Wh)(await Aws_restJson1_parseBody(e.body,t)),"body"),i=(0,eF.qn)(n,{roleCredentials:eF.F3});return Object.assign(r,i),r},de_GetRoleCredentialsCommandError=async(e,t)=>{let r={...e,body:await Aws_restJson1_parseErrorBody(e.body,t)},n=loadRestJsonErrorCode(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await de_InvalidRequestExceptionRes(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await de_ResourceNotFoundExceptionRes(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await de_TooManyRequestsExceptionRes(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await de_UnauthorizedExceptionRes(r,t);default:let i=r.body;return tF({output:e,parsedBody:i,errorCode:n})}},tF=(0,eF.PC)(SSOServiceException),de_InvalidRequestExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{message:eF.pY});Object.assign(r,i);let o=new InvalidRequestException({$metadata:Aws_restJson1_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},de_ResourceNotFoundExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{message:eF.pY});Object.assign(r,i);let o=new ResourceNotFoundException({$metadata:Aws_restJson1_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},de_TooManyRequestsExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{message:eF.pY});Object.assign(r,i);let o=new TooManyRequestsException({$metadata:Aws_restJson1_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},de_UnauthorizedExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{message:eF.pY});Object.assign(r,i);let o=new UnauthorizedException({$metadata:Aws_restJson1_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},Aws_restJson1_deserializeMetadata=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Aws_restJson1_collectBodyString=(e,t)=>(0,eF.Wg)(e,t).then(e=>t.utf8Encoder(e)),isSerializableHeaderValue=e=>null!=e&&""!==e&&(!Object.getOwnPropertyNames(e).includes("length")||0!=e.length)&&(!Object.getOwnPropertyNames(e).includes("size")||0!=e.size),Aws_restJson1_parseBody=(e,t)=>Aws_restJson1_collectBodyString(e,t).then(e=>e.length?JSON.parse(e):{}),Aws_restJson1_parseErrorBody=async(e,t)=>{let r=await Aws_restJson1_parseBody(e,t);return r.message=r.message??r.Message,r},loadRestJsonErrorCode=(e,t)=>{let sanitizeErrorCode=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=Object.keys(e.headers).find(e=>"x-amzn-errortype"===e.toLowerCase());return void 0!==r?sanitizeErrorCode(e.headers[r]):void 0!==t.code?sanitizeErrorCode(t.code):void 0!==t.__type?sanitizeErrorCode(t.__type):void 0};let GetRoleCredentialsCommand=class GetRoleCredentialsCommand extends eF.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,r){this.middlewareStack.use((0,ez.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,eb.a3)(t,GetRoleCredentialsCommand.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:GetRoleCredentialsRequestFilterSensitiveLog,outputFilterSensitiveLog:GetRoleCredentialsResponseFilterSensitiveLog,[ea.zK]:{service:"SWBPortalService",operation:"GetRoleCredentials"}},{requestHandler:s}=t;return n.resolve(e=>s.handle(e.request,r||{}),o)}serialize(e,t){return se_GetRoleCredentialsCommand(e,t)}deserialize(e,t){return de_GetRoleCredentialsCommand(e,t)}};let TokenProviderError=class TokenProviderError extends eQ.k{constructor(e,t=!0){super(e,t),this.tryNextLink=t,this.name="TokenProviderError",Object.setPrototypeOf(this,TokenProviderError.prototype)}};let tz="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var client_sso_oidc_node_resolveClientEndpointParameters=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"}),tq={version:"3.429.0"},tW="required",tB="argv",tH="isSet",tV="tree",tK="error",tG="endpoint",tY="PartitionResult",tJ="getAttr",tX={[tW]:!1,type:"String"},tZ={[tW]:!0,default:!1,type:"Boolean"},tQ={ref:"Endpoint"},t0={fn:"booleanEquals",[tB]:[{ref:"UseFIPS"},!0]},t1={fn:"booleanEquals",[tB]:[{ref:"UseDualStack"},!0]},t2={},t3={fn:"booleanEquals",[tB]:[!0,{fn:tJ,[tB]:[{ref:tY},"supportsFIPS"]}]},t8={ref:tY},t6={fn:"booleanEquals",[tB]:[!0,{fn:tJ,[tB]:[t8,"supportsDualStack"]}]},t4=[t0],t5=[t1],t9=[{ref:"Region"}],t7={version:"1.0",parameters:{Region:tX,UseDualStack:tZ,UseFIPS:tZ,Endpoint:tX},rules:[{conditions:[{fn:tH,[tB]:[tQ]}],type:tV,rules:[{conditions:t4,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:tK},{conditions:t5,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:tK},{endpoint:{url:tQ,properties:t2,headers:t2},type:tG}]},{conditions:[{fn:tH,[tB]:t9}],type:tV,rules:[{conditions:[{fn:"aws.partition",[tB]:t9,assign:tY}],type:tV,rules:[{conditions:[t0,t1],type:tV,rules:[{conditions:[t3,t6],type:tV,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:t2,headers:t2},type:tG}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:tK}]},{conditions:t4,type:tV,rules:[{conditions:[t3],type:tV,rules:[{conditions:[{fn:"stringEquals",[tB]:["aws-us-gov",{fn:tJ,[tB]:[t8,"name"]}]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:t2,headers:t2},type:tG},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:t2,headers:t2},type:tG}]},{error:"FIPS is enabled but this partition does not support FIPS",type:tK}]},{conditions:t5,type:tV,rules:[{conditions:[t6],type:tV,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:t2,headers:t2},type:tG}]},{error:"DualStack is enabled but this partition does not support DualStack",type:tK}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:t2,headers:t2},type:tG}]}]},{error:"Invalid Configuration: Missing Region",type:tK}]},client_sso_oidc_node_defaultEndpointResolver=(e,t={})=>resolveEndpoint(t7,{endpointParams:e,logger:t.logger}),client_sso_oidc_node_getRuntimeConfig=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??tf.G,base64Encoder:e?.base64Encoder??tf.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??client_sso_oidc_node_defaultEndpointResolver,extensions:e?.extensions??[],logger:e?.logger??new eF.vk,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??te.e,utf8Decoder:e?.utf8Decoder??$.$x,utf8Encoder:e?.utf8Encoder??$.GZ}),getRuntimeConfig2=e=>{(0,eF.H_)(process.version);let t=resolveDefaultsModeConfig(e),defaultConfigProvider=()=>t().then(eF.jv),r=client_sso_oidc_node_getRuntimeConfig(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??defaultUserAgent({serviceId:r.serviceId,clientVersion:tq.version}),maxAttempts:e?.maxAttempts??(0,e7.M)(eR),region:e?.region??(0,e7.M)(eg,ey),requestHandler:e?.requestHandler??new tu.NA(defaultConfigProvider),retryMode:e?.retryMode??(0,e7.M)({...eI,default:async()=>(await defaultConfigProvider()).retryMode||ew}),sha256:e?.sha256??Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??tu.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,e7.M)(eh),useFipsEndpoint:e?.useFipsEndpoint??(0,e7.M)(em)}},client_sso_oidc_node_asPartial=e=>e,client_sso_oidc_node_resolveRuntimeExtensions=(e,t)=>{let r={...client_sso_oidc_node_asPartial(getAwsRegionExtensionConfiguration(e)),...client_sso_oidc_node_asPartial((0,eF.kE)(e)),...client_sso_oidc_node_asPartial((0,h.cA)(e))};return t.forEach(e=>e.configure(r)),{...e,...resolveAwsRegionExtensionConfiguration(r),...(0,eF.SQ)(r),...(0,h.AO)(r)}},re=class extends eF.KU{constructor(...[e]){let t=getRuntimeConfig2(e||{}),r=client_sso_oidc_node_resolveClientEndpointParameters(t),n=resolveRegionConfig(r),i=(0,eb.uW)(n),o=resolveRetryConfig(i),s=resolveUserAgentConfig(o),a=client_sso_oidc_node_resolveRuntimeExtensions(s,e?.extensions||[]);super(a),this.config=a,this.middlewareStack.use(getRetryPlugin(this.config)),this.middlewareStack.use(getContentLengthPlugin(this.config)),this.middlewareStack.use(getHostHeaderPlugin(this.config)),this.middlewareStack.use(getLoggerPlugin(this.config)),this.middlewareStack.use(getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(getUserAgentPlugin(this.config))}destroy(){super.destroy()}},rt=class _SSOOIDCServiceException extends eF.sI{constructor(e){super(e),Object.setPrototypeOf(this,_SSOOIDCServiceException.prototype)}},rr=class _AccessDeniedException extends rt{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,_AccessDeniedException.prototype),this.error=e.error,this.error_description=e.error_description}},rn=class _AuthorizationPendingException extends rt{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,_AuthorizationPendingException.prototype),this.error=e.error,this.error_description=e.error_description}},ri=class _ExpiredTokenException extends rt{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,_ExpiredTokenException.prototype),this.error=e.error,this.error_description=e.error_description}},ro=class _InternalServerException extends rt{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,_InternalServerException.prototype),this.error=e.error,this.error_description=e.error_description}},rs=class _InvalidClientException extends rt{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,_InvalidClientException.prototype),this.error=e.error,this.error_description=e.error_description}},ra=class _InvalidGrantException extends rt{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,_InvalidGrantException.prototype),this.error=e.error,this.error_description=e.error_description}},rl=class _InvalidRequestException extends rt{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,_InvalidRequestException.prototype),this.error=e.error,this.error_description=e.error_description}},rd=class _InvalidScopeException extends rt{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,_InvalidScopeException.prototype),this.error=e.error,this.error_description=e.error_description}},rc=class _SlowDownException extends rt{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,_SlowDownException.prototype),this.error=e.error,this.error_description=e.error_description}},ru=class _UnauthorizedClientException extends rt{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,_UnauthorizedClientException.prototype),this.error=e.error,this.error_description=e.error_description}},rp=class _UnsupportedGrantTypeException extends rt{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,_UnsupportedGrantTypeException.prototype),this.error=e.error,this.error_description=e.error_description}},rf=class _InvalidClientMetadataException extends rt{constructor(e){super({name:"InvalidClientMetadataException",$fault:"client",...e}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,_InvalidClientMetadataException.prototype),this.error=e.error,this.error_description=e.error_description}},se_CreateTokenCommand=async(e,t)=>{let r;let{hostname:n,protocol:i="https",port:o,path:s}=await t.endpoint(),a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/token`;return r=JSON.stringify((0,eF.qn)(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:e=>(0,eF.F3)(e)})),new h.aW({protocol:i,hostname:n,port:o,method:"POST",headers:{"content-type":"application/json"},path:a,body:r})},se_RegisterClientCommand=async(e,t)=>{let r;let{hostname:n,protocol:i="https",port:o,path:s}=await t.endpoint(),a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/client/register`;return r=JSON.stringify((0,eF.qn)(e,{clientName:[],clientType:[],scopes:e=>(0,eF.F3)(e)})),new h.aW({protocol:i,hostname:n,port:o,method:"POST",headers:{"content-type":"application/json"},path:a,body:r})},se_StartDeviceAuthorizationCommand=async(e,t)=>{let r;let{hostname:n,protocol:i="https",port:o,path:s}=await t.endpoint(),a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/device_authorization`;return r=JSON.stringify((0,eF.qn)(e,{clientId:[],clientSecret:[],startUrl:[]})),new h.aW({protocol:i,hostname:n,port:o,method:"POST",headers:{"content-type":"application/json"},path:a,body:r})},de_CreateTokenCommand=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return de_CreateTokenCommandError(e,t);let r=(0,eF.UI)({$metadata:client_sso_oidc_node_deserializeMetadata(e)}),n=(0,eF.CE)((0,eF.Wh)(await client_sso_oidc_node_parseBody(e.body,t)),"body"),i=(0,eF.qn)(n,{accessToken:eF.pY,expiresIn:eF.u$,idToken:eF.pY,refreshToken:eF.pY,tokenType:eF.pY});return Object.assign(r,i),r},de_CreateTokenCommandError=async(e,t)=>{let r={...e,body:await client_sso_oidc_node_parseErrorBody(e.body,t)},n=client_sso_oidc_node_loadRestJsonErrorCode(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await de_AccessDeniedExceptionRes(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await de_AuthorizationPendingExceptionRes(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await client_sso_oidc_node_de_ExpiredTokenExceptionRes(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await de_InternalServerExceptionRes(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await de_InvalidClientExceptionRes(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await de_InvalidGrantExceptionRes(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await client_sso_oidc_node_de_InvalidRequestExceptionRes(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await de_InvalidScopeExceptionRes(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await de_SlowDownExceptionRes(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await de_UnauthorizedClientExceptionRes(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await de_UnsupportedGrantTypeExceptionRes(r,t);default:let i=r.body;return rh({output:e,parsedBody:i,errorCode:n})}},de_RegisterClientCommand=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return de_RegisterClientCommandError(e,t);let r=(0,eF.UI)({$metadata:client_sso_oidc_node_deserializeMetadata(e)}),n=(0,eF.CE)((0,eF.Wh)(await client_sso_oidc_node_parseBody(e.body,t)),"body"),i=(0,eF.qn)(n,{authorizationEndpoint:eF.pY,clientId:eF.pY,clientIdIssuedAt:eF.a_,clientSecret:eF.pY,clientSecretExpiresAt:eF.a_,tokenEndpoint:eF.pY});return Object.assign(r,i),r},de_RegisterClientCommandError=async(e,t)=>{let r={...e,body:await client_sso_oidc_node_parseErrorBody(e.body,t)},n=client_sso_oidc_node_loadRestJsonErrorCode(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await de_InternalServerExceptionRes(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await de_InvalidClientMetadataExceptionRes(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await client_sso_oidc_node_de_InvalidRequestExceptionRes(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await de_InvalidScopeExceptionRes(r,t);default:let i=r.body;return rh({output:e,parsedBody:i,errorCode:n})}},de_StartDeviceAuthorizationCommand=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return de_StartDeviceAuthorizationCommandError(e,t);let r=(0,eF.UI)({$metadata:client_sso_oidc_node_deserializeMetadata(e)}),n=(0,eF.CE)((0,eF.Wh)(await client_sso_oidc_node_parseBody(e.body,t)),"body"),i=(0,eF.qn)(n,{deviceCode:eF.pY,expiresIn:eF.u$,interval:eF.u$,userCode:eF.pY,verificationUri:eF.pY,verificationUriComplete:eF.pY});return Object.assign(r,i),r},de_StartDeviceAuthorizationCommandError=async(e,t)=>{let r={...e,body:await client_sso_oidc_node_parseErrorBody(e.body,t)},n=client_sso_oidc_node_loadRestJsonErrorCode(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await de_InternalServerExceptionRes(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await de_InvalidClientExceptionRes(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await client_sso_oidc_node_de_InvalidRequestExceptionRes(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await de_SlowDownExceptionRes(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await de_UnauthorizedClientExceptionRes(r,t);default:let i=r.body;return rh({output:e,parsedBody:i,errorCode:n})}},rh=(0,eF.PC)(rt),de_AccessDeniedExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{error:eF.pY,error_description:eF.pY});Object.assign(r,i);let o=new rr({$metadata:client_sso_oidc_node_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},de_AuthorizationPendingExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{error:eF.pY,error_description:eF.pY});Object.assign(r,i);let o=new rn({$metadata:client_sso_oidc_node_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},client_sso_oidc_node_de_ExpiredTokenExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{error:eF.pY,error_description:eF.pY});Object.assign(r,i);let o=new ri({$metadata:client_sso_oidc_node_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},de_InternalServerExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{error:eF.pY,error_description:eF.pY});Object.assign(r,i);let o=new ro({$metadata:client_sso_oidc_node_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},de_InvalidClientExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{error:eF.pY,error_description:eF.pY});Object.assign(r,i);let o=new rs({$metadata:client_sso_oidc_node_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},de_InvalidClientMetadataExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{error:eF.pY,error_description:eF.pY});Object.assign(r,i);let o=new rf({$metadata:client_sso_oidc_node_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},de_InvalidGrantExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{error:eF.pY,error_description:eF.pY});Object.assign(r,i);let o=new ra({$metadata:client_sso_oidc_node_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},client_sso_oidc_node_de_InvalidRequestExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{error:eF.pY,error_description:eF.pY});Object.assign(r,i);let o=new rl({$metadata:client_sso_oidc_node_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},de_InvalidScopeExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{error:eF.pY,error_description:eF.pY});Object.assign(r,i);let o=new rd({$metadata:client_sso_oidc_node_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},de_SlowDownExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{error:eF.pY,error_description:eF.pY});Object.assign(r,i);let o=new rc({$metadata:client_sso_oidc_node_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},de_UnauthorizedClientExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{error:eF.pY,error_description:eF.pY});Object.assign(r,i);let o=new ru({$metadata:client_sso_oidc_node_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},de_UnsupportedGrantTypeExceptionRes=async(e,t)=>{let r=(0,eF.UI)({}),n=e.body,i=(0,eF.qn)(n,{error:eF.pY,error_description:eF.pY});Object.assign(r,i);let o=new rp({$metadata:client_sso_oidc_node_deserializeMetadata(e),...r});return(0,eF.to)(o,e.body)},client_sso_oidc_node_deserializeMetadata=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),client_sso_oidc_node_collectBodyString=(e,t)=>(0,eF.Wg)(e,t).then(e=>t.utf8Encoder(e)),client_sso_oidc_node_parseBody=(e,t)=>client_sso_oidc_node_collectBodyString(e,t).then(e=>e.length?JSON.parse(e):{}),client_sso_oidc_node_parseErrorBody=async(e,t)=>{let r=await client_sso_oidc_node_parseBody(e,t);return r.message=r.message??r.Message,r},client_sso_oidc_node_loadRestJsonErrorCode=(e,t)=>{let sanitizeErrorCode=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=Object.keys(e.headers).find(e=>"x-amzn-errortype"===e.toLowerCase());return void 0!==r?sanitizeErrorCode(e.headers[r]):void 0!==t.code?sanitizeErrorCode(t.code):void 0!==t.__type?sanitizeErrorCode(t.__type):void 0},rm=class _CreateTokenCommand extends eF.mY{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,r){this.middlewareStack.use((0,ez.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,eb.a3)(t,_CreateTokenCommand.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[ea.zK]:{service:"AWSSSOOIDCService",operation:"CreateToken"}},{requestHandler:s}=t;return n.resolve(e=>s.handle(e.request,r||{}),o)}serialize(e,t){return se_CreateTokenCommand(e,t)}deserialize(e,t){return de_CreateTokenCommand(e,t)}},rg=class _RegisterClientCommand extends eF.mY{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,r){this.middlewareStack.use((0,ez.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,eb.a3)(t,_RegisterClientCommand.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"SSOOIDCClient",commandName:"RegisterClientCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[ea.zK]:{service:"AWSSSOOIDCService",operation:"RegisterClient"}},{requestHandler:s}=t;return n.resolve(e=>s.handle(e.request,r||{}),o)}serialize(e,t){return se_RegisterClientCommand(e,t)}deserialize(e,t){return de_RegisterClientCommand(e,t)}},ry=class _StartDeviceAuthorizationCommand extends eF.mY{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,t,r){this.middlewareStack.use((0,ez.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,eb.a3)(t,_StartDeviceAuthorizationCommand.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:i}=t,o={logger:i,clientName:"SSOOIDCClient",commandName:"StartDeviceAuthorizationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[ea.zK]:{service:"AWSSSOOIDCService",operation:"StartDeviceAuthorization"}},{requestHandler:s}=t;return n.resolve(e=>s.handle(e.request,r||{}),o)}serialize(e,t){return se_StartDeviceAuthorizationCommand(e,t)}deserialize(e,t){return de_StartDeviceAuthorizationCommand(e,t)}},rE=class extends re{};(0,eF.TW)({CreateTokenCommand:rm,RegisterClientCommand:rg,StartDeviceAuthorizationCommand:ry},rE);let rv={},getSsoOidcClient=e=>{if(rv[e])return rv[e];let t=new re({region:e});return rv[e]=t,t},getNewSsoOidcToken=(e,t)=>{let r=getSsoOidcClient(t);return r.send(new rm({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},validateTokenExpiry=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new TokenProviderError(`Token is expired. ${tz}`,!1)},validateTokenKey=(e,t,r=!1)=>{if(void 0===t)throw new TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${tz}`,!1)},{writeFile:rb}=tp.promises,writeSSOTokenToFile=(e,t)=>{let r=(0,eX.Py)(e),n=JSON.stringify(t,null,2);return rb(r,n)},rw=new Date(0),fromSso=(e={})=>async()=>{let t;let r=await (0,eX.MX)(e),n=(0,eX.Jl)(e),i=r[n];if(i){if(!i.sso_session)throw new TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let o=i.sso_session,s=await (0,eX.G)(e),a=s[o];if(!a)throw new TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let e of["sso_start_url","sso_region"])if(!a[e])throw new TokenProviderError(`Sso session '${o}' is missing required property '${e}'.`,!1);a.sso_start_url;let l=a.sso_region;try{t=await (0,eX.gH)(o)}catch(e){throw new TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${tz}`,!1)}validateTokenKey("accessToken",t.accessToken),validateTokenKey("expiresAt",t.expiresAt);let{accessToken:d,expiresAt:c}=t,u={token:d,expiration:new Date(c)};if(u.expiration.getTime()-Date.now()>3e5)return u;if(Date.now()-rw.getTime()<3e4)return validateTokenExpiry(u),u;validateTokenKey("clientId",t.clientId,!0),validateTokenKey("clientSecret",t.clientSecret,!0),validateTokenKey("refreshToken",t.refreshToken,!0);try{rw.setTime(Date.now());let e=await getNewSsoOidcToken(t,l);validateTokenKey("accessToken",e.accessToken),validateTokenKey("expiresIn",e.expiresIn);let r=new Date(Date.now()+1e3*e.expiresIn);try{await writeSSOTokenToFile(o,{...t,accessToken:e.accessToken,expiresAt:r.toISOString(),refreshToken:e.refreshToken})}catch(e){}return{token:e.accessToken,expiration:r}}catch(e){return validateTokenExpiry(u),u}},resolveSSOCredentials=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,profile:s})=>{let a,l;let d="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let e=await fromSso({profile:s})();a={accessToken:e.token,expiresAt:new Date(e.expiration).toISOString()}}catch(e){throw new eJ.m(e.message,!1)}else try{a=await (0,eX.gH)(e)}catch(e){throw new eJ.m(`The SSO session associated with this profile is invalid. ${d}`,!1)}if(new Date(a.expiresAt).getTime()-Date.now()<=0)throw new eJ.m(`The SSO session associated with this profile has expired. ${d}`,!1);let{accessToken:c}=a,u=o||new SSOClient({region:n});try{l=await u.send(new GetRoleCredentialsCommand({accountId:r,roleName:i,accessToken:c}))}catch(e){throw eJ.m.from(e,!1)}let{roleCredentials:{accessKeyId:p,secretAccessKey:f,sessionToken:h,expiration:m}={}}=l;if(!p||!f||!h||!m)throw new eJ.m("SSO returns an invalid temporary credential.",!1);return{accessKeyId:p,secretAccessKey:f,sessionToken:h,expiration:new Date(m)}},validateSsoProfile=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:i}=e;if(!t||!r||!n||!i)throw new eJ.m(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e},fromSSO=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,ssoSession:s}=e,a=(0,eX.Jl)(e);if(t||r||n||i||s){if(t&&r&&n&&i)return resolveSSOCredentials({ssoStartUrl:t,ssoSession:s,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,profile:a});throw new eJ.m('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"')}{let r=await (0,eX.MX)(e),i=r[a];if(!i)throw new eJ.m(`Profile ${a} was not found.`);if(!isSsoProfile(i))throw new eJ.m(`Profile ${a} is not configured with SSO credentials.`);if(i?.sso_session){let r=await (0,eX.G)(e),o=r[i.sso_session],s=` configurations in profile ${a} and sso-session ${i.sso_session}`;if(n&&n!==o.sso_region)throw new eJ.m("Conflicting SSO region"+s,!1);if(t&&t!==o.sso_start_url)throw new eJ.m("Conflicting SSO start_url"+s,!1);i.sso_region=o.sso_region,i.sso_start_url=o.sso_start_url}let{sso_start_url:s,sso_account_id:l,sso_region:d,sso_role_name:c,sso_session:u}=validateSsoProfile(i);return resolveSSOCredentials({ssoStartUrl:s,ssoSession:u,ssoAccountId:l,ssoRegion:d,ssoRoleName:c,ssoClient:o,profile:a})}},resolveSsoCredentials=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:i,sso_role_name:o}=validateSsoProfile(e);return fromSSO({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:i,ssoRoleName:o})()},isStaticCredsProfile=e=>!!e&&"object"==typeof e&&"string"==typeof e.aws_access_key_id&&"string"==typeof e.aws_secret_access_key&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,resolveStaticCredentials=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token}),fromWebToken=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:i,policyArns:o,policy:s,durationSeconds:a,roleAssumerWithWebIdentity:l}=e;if(!l)throw new eJ.m(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return l({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:i,PolicyArns:o,Policy:s,DurationSeconds:a})},fromTokenFile=(e={})=>async()=>{let t=e?.webIdentityTokenFile??process.env.AWS_WEB_IDENTITY_TOKEN_FILE,r=e?.roleArn??process.env.AWS_ROLE_ARN,n=e?.roleSessionName??process.env.AWS_ROLE_SESSION_NAME;if(!t||!r)throw new eJ.m("Web identity configuration not specified");return fromWebToken({...e,webIdentityToken:(0,tp.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()},isWebIdentityProfile=e=>!!e&&"object"==typeof e&&"string"==typeof e.web_identity_token_file&&"string"==typeof e.role_arn&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,resolveWebIdentityCredentials=async(e,t)=>fromTokenFile({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})(),resolveProfileData=async(e,t,r,n={})=>{let i=t[e];if(Object.keys(n).length>0&&isStaticCredsProfile(i))return resolveStaticCredentials(i);if(isAssumeRoleProfile(i))return resolveAssumeRoleCredentials(e,t,r,n);if(isStaticCredsProfile(i))return resolveStaticCredentials(i);if(isWebIdentityProfile(i))return resolveWebIdentityCredentials(i,r);if(isProcessProfile(i))return resolveProcessCredentials_resolveProcessCredentials(r,e);if(isSsoProfile(i))return resolveSsoCredentials(i);throw new eJ.m(`Profile ${e} could not be found or parsed in shared credentials file.`)},fromIni=(e={})=>async()=>{let t=await (0,eX.MX)(e);return resolveProfileData((0,eX.Jl)(e),t,e)};var rx=r(2366);let remoteProvider=e=>process.env[e6]||process.env[e8]?fromContainerMetadata(e):process.env.AWS_EC2_METADATA_DISABLED?async()=>{throw new eJ.m("EC2 Instance Metadata Service access disabled")}:fromInstanceMetadata(e),defaultProvider=(e={})=>(0,w.H)((0,rx.t)(...e.profile||process.env[eX.TH]?[]:[fromEnv()],fromSSO(e),fromIni(e),fromProcess(e),fromTokenFile(e),remoteProvider(e),async()=>{throw new eJ.m("Could not load credentials from any providers",!1)}),e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5,e=>void 0!==e.expiration),rS="required",r_="type",rC="argv",rP="booleanEquals",rA="stringEquals",rR="sigv4",rI="us-east-1",rT="endpoint",rk="https://sts.{Region}.{PartitionResult#dnsSuffix}",rO="tree",rD="error",rN="getAttr",r$={[rS]:!1,[r_]:"String"},rU={[rS]:!0,default:!1,[r_]:"Boolean"},rL={ref:"Endpoint"},rM={fn:"isSet",[rC]:[{ref:"Region"}]},rj={ref:"Region"},rF={fn:"aws.partition",[rC]:[rj],assign:"PartitionResult"},rz={ref:"UseFIPS"},rq={ref:"UseDualStack"},rW={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:rR,signingName:"sts",signingRegion:rI}]},headers:{}},rB={},rH={conditions:[{fn:rA,[rC]:[rj,"aws-global"]}],[rT]:rW,[r_]:rT},rV={fn:rP,[rC]:[rz,!0]},rK={fn:rP,[rC]:[rq,!0]},rG={fn:rN,[rC]:[{ref:"PartitionResult"},"supportsFIPS"]},rY={ref:"PartitionResult"},rJ={fn:rP,[rC]:[!0,{fn:rN,[rC]:[rY,"supportsDualStack"]}]},rX=[{fn:"isSet",[rC]:[rL]}],rZ=[rV],rQ=[rK],r0={version:"1.0",parameters:{Region:r$,UseDualStack:rU,UseFIPS:rU,Endpoint:r$,UseGlobalEndpoint:rU},rules:[{conditions:[{fn:rP,[rC]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[rC]:rX},rM,rF,{fn:rP,[rC]:[rz,!1]},{fn:rP,[rC]:[rq,!1]}],rules:[{conditions:[{fn:rA,[rC]:[rj,"ap-northeast-1"]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,"ap-south-1"]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,"ap-southeast-1"]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,"ap-southeast-2"]}],endpoint:rW,[r_]:rT},rH,{conditions:[{fn:rA,[rC]:[rj,"ca-central-1"]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,"eu-central-1"]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,"eu-north-1"]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,"eu-west-1"]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,"eu-west-2"]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,"eu-west-3"]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,"sa-east-1"]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,rI]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,"us-east-2"]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,"us-west-1"]}],endpoint:rW,[r_]:rT},{conditions:[{fn:rA,[rC]:[rj,"us-west-2"]}],endpoint:rW,[r_]:rT},{endpoint:{url:rk,properties:{authSchemes:[{name:rR,signingName:"sts",signingRegion:"{Region}"}]},headers:rB},[r_]:rT}],[r_]:rO},{conditions:rX,rules:[{conditions:rZ,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[r_]:rD},{conditions:rQ,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[r_]:rD},{endpoint:{url:rL,properties:rB,headers:rB},[r_]:rT}],[r_]:rO},{conditions:[rM],rules:[{conditions:[rF],rules:[{conditions:[rV,rK],rules:[{conditions:[{fn:rP,[rC]:[!0,rG]},rJ],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rB,headers:rB},[r_]:rT}],[r_]:rO},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[r_]:rD}],[r_]:rO},{conditions:rZ,rules:[{conditions:[{fn:rP,[rC]:[rG,!0]}],rules:[{conditions:[{fn:rA,[rC]:[{fn:rN,[rC]:[rY,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:rB,headers:rB},[r_]:rT},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:rB,headers:rB},[r_]:rT}],[r_]:rO},{error:"FIPS is enabled but this partition does not support FIPS",[r_]:rD}],[r_]:rO},{conditions:rQ,rules:[{conditions:[rJ],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rB,headers:rB},[r_]:rT}],[r_]:rO},{error:"DualStack is enabled but this partition does not support DualStack",[r_]:rD}],[r_]:rO},rH,{endpoint:{url:rk,properties:rB,headers:rB},[r_]:rT}],[r_]:rO}],[r_]:rO},{error:"Invalid Configuration: Missing Region",[r_]:rD}]},endpointResolver_defaultEndpointResolver=(e,t={})=>resolveEndpoint(r0,{endpointParams:e,logger:t.logger}),runtimeConfig_shared_getRuntimeConfig=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??tf.G,base64Encoder:e?.base64Encoder??tf.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??endpointResolver_defaultEndpointResolver,extensions:e?.extensions??[],logger:e?.logger??new eF.vk,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??te.e,utf8Decoder:e?.utf8Decoder??$.$x,utf8Encoder:e?.utf8Encoder??$.GZ}),dist_es_runtimeConfig_getRuntimeConfig=e=>{(0,eF.H_)(process.version);let t=resolveDefaultsModeConfig(e),defaultConfigProvider=()=>t().then(eF.jv),r=runtimeConfig_shared_getRuntimeConfig(e);return emitWarningIfUnsupportedVersion(process.version),{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??decorateDefaultCredentialProvider(defaultProvider),defaultUserAgentProvider:e?.defaultUserAgentProvider??defaultUserAgent({serviceId:r.serviceId,clientVersion:eG.i8}),maxAttempts:e?.maxAttempts??(0,e7.M)(eR),region:e?.region??(0,e7.M)(eg,ey),requestHandler:e?.requestHandler??new tu.NA(defaultConfigProvider),retryMode:e?.retryMode??(0,e7.M)({...eI,default:async()=>(await defaultConfigProvider()).retryMode||ew}),sha256:e?.sha256??Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??tu.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,e7.M)(eh),useFipsEndpoint:e?.useFipsEndpoint??(0,e7.M)(em)}},runtimeExtensions_asPartial=e=>e,runtimeExtensions_resolveRuntimeExtensions=(e,t)=>{let r={...runtimeExtensions_asPartial(getAwsRegionExtensionConfiguration(e)),...runtimeExtensions_asPartial((0,eF.kE)(e)),...runtimeExtensions_asPartial((0,h.cA)(e))};return t.forEach(e=>e.configure(r)),{...e,...resolveAwsRegionExtensionConfiguration(r),...(0,eF.SQ)(r),...(0,h.AO)(r)}};let STSClient=class STSClient extends eF.KU{constructor(...[e]){let t=dist_es_runtimeConfig_getRuntimeConfig(e||{}),r=EndpointParameters_resolveClientEndpointParameters(t),n=resolveRegionConfig(r),i=(0,eb.uW)(n),o=resolveRetryConfig(i),s=resolveStsAuthConfig(o,{stsClientCtor:STSClient}),a=resolveUserAgentConfig(s),l=runtimeExtensions_resolveRuntimeExtensions(a,e?.extensions||[]);super(l),this.config=l,this.middlewareStack.use(getRetryPlugin(this.config)),this.middlewareStack.use(getContentLengthPlugin(this.config)),this.middlewareStack.use(getHostHeaderPlugin(this.config)),this.middlewareStack.use(getLoggerPlugin(this.config)),this.middlewareStack.use(getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(getUserAgentPlugin(this.config))}destroy(){super.destroy()}};let getCustomizableStsClientCtor=(e,t)=>t?class extends e{constructor(e){for(let r of(super(e),t))this.middlewareStack.use(r)}}:e,defaultRoleAssumers_getDefaultRoleAssumer=(e={},t)=>getDefaultRoleAssumer(e,getCustomizableStsClientCtor(STSClient,t)),defaultRoleAssumers_getDefaultRoleAssumerWithWebIdentity=(e={},t)=>getDefaultRoleAssumerWithWebIdentity(e,getCustomizableStsClientCtor(STSClient,t)),defaultRoleAssumers_decorateDefaultCredentialProvider=e=>t=>e({roleAssumer:defaultRoleAssumers_getDefaultRoleAssumer(t),roleAssumerWithWebIdentity:defaultRoleAssumers_getDefaultRoleAssumerWithWebIdentity(t),...t}),r1="required",r2="argv",r3="isSet",r8="booleanEquals",r6="error",r4="endpoint",r5="tree",r9="PartitionResult",r7="getAttr",ne="stringEquals",nt={[r1]:!1,type:"String"},nr={[r1]:!0,default:!1,type:"Boolean"},nn={ref:"Endpoint"},ni={fn:r8,[r2]:[{ref:"UseFIPS"},!0]},no={fn:r8,[r2]:[{ref:"UseDualStack"},!0]},ns={},na={ref:"Region"},nl={fn:r7,[r2]:[{ref:r9},"supportsFIPS"]},nd={ref:r9},nc={fn:r8,[r2]:[!0,{fn:r7,[r2]:[nd,"supportsDualStack"]}]},nu=[ni],np=[no],nf=[na],nh={version:"1.0",parameters:{Region:nt,UseDualStack:nr,UseFIPS:nr,Endpoint:nt},rules:[{conditions:[{fn:r3,[r2]:[nn]}],rules:[{conditions:nu,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:r6},{conditions:np,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:r6},{endpoint:{url:nn,properties:ns,headers:ns},type:r4}],type:r5},{conditions:[{fn:r3,[r2]:nf}],rules:[{conditions:[{fn:"aws.partition",[r2]:nf,assign:r9}],rules:[{conditions:[ni,no],rules:[{conditions:[{fn:r8,[r2]:[!0,nl]},nc],rules:[{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ns,headers:ns},type:r4}],type:r5},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:r6}],type:r5},{conditions:nu,rules:[{conditions:[{fn:r8,[r2]:[nl,!0]}],rules:[{conditions:[{fn:ne,[r2]:[{fn:r7,[r2]:[nd,"name"]},"aws-us-gov"]}],endpoint:{url:"https://dynamodb.{Region}.amazonaws.com",properties:ns,headers:ns},type:r4},{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ns,headers:ns},type:r4}],type:r5},{error:"FIPS is enabled but this partition does not support FIPS",type:r6}],type:r5},{conditions:np,rules:[{conditions:[nc],rules:[{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ns,headers:ns},type:r4}],type:r5},{error:"DualStack is enabled but this partition does not support DualStack",type:r6}],type:r5},{conditions:[{fn:ne,[r2]:[na,"local"]}],endpoint:{url:"http://localhost:8000",properties:{authSchemes:[{name:"sigv4",signingName:"dynamodb",signingRegion:"us-east-1"}]},headers:ns},type:r4},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",properties:ns,headers:ns},type:r4}],type:r5}],type:r5},{error:"Invalid Configuration: Missing Region",type:r6}]},endpoint_endpointResolver_defaultEndpointResolver=(e,t={})=>resolveEndpoint(nh,{endpointParams:e,logger:t.logger}),dist_es_runtimeConfig_shared_getRuntimeConfig=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??tf.G,base64Encoder:e?.base64Encoder??tf.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??endpoint_endpointResolver_defaultEndpointResolver,extensions:e?.extensions??[],logger:e?.logger??new eF.vk,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??te.e,utf8Decoder:e?.utf8Decoder??$.$x,utf8Encoder:e?.utf8Encoder??$.GZ}),client_dynamodb_dist_es_runtimeConfig_getRuntimeConfig=e=>{(0,eF.H_)(process.version);let t=resolveDefaultsModeConfig(e),defaultConfigProvider=()=>t().then(eF.jv),r=dist_es_runtimeConfig_shared_getRuntimeConfig(e);return emitWarningIfUnsupportedVersion(process.version),{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??defaultRoleAssumers_decorateDefaultCredentialProvider(defaultProvider),defaultUserAgentProvider:e?.defaultUserAgentProvider??defaultUserAgent({serviceId:r.serviceId,clientVersion:eW.i8}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,e7.M)(f),maxAttempts:e?.maxAttempts??(0,e7.M)(eR),region:e?.region??(0,e7.M)(eg,ey),requestHandler:e?.requestHandler??new tu.NA(defaultConfigProvider),retryMode:e?.retryMode??(0,e7.M)({...eI,default:async()=>(await defaultConfigProvider()).retryMode||ew}),sha256:e?.sha256??Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??tu.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,e7.M)(eh),useFipsEndpoint:e?.useFipsEndpoint??(0,e7.M)(em)}},dist_es_runtimeExtensions_asPartial=e=>e,dist_es_runtimeExtensions_resolveRuntimeExtensions=(e,t)=>{let r={...dist_es_runtimeExtensions_asPartial(getAwsRegionExtensionConfiguration(e)),...dist_es_runtimeExtensions_asPartial((0,eF.kE)(e)),...dist_es_runtimeExtensions_asPartial((0,h.cA)(e))};return t.forEach(e=>e.configure(r)),{...e,...resolveAwsRegionExtensionConfiguration(r),...(0,eF.SQ)(r),...(0,h.AO)(r)}};let DynamoDBClient=class DynamoDBClient extends eF.KU{constructor(...[e]){let t=client_dynamodb_dist_es_runtimeConfig_getRuntimeConfig(e||{}),r=resolveClientEndpointParameters(t),n=resolveRegionConfig(r),i=(0,eb.uW)(n),o=resolveRetryConfig(i),s=resolveAwsAuthConfig(o),a=resolveUserAgentConfig(s),l=resolveEndpointDiscoveryConfig(a,{endpointDiscoveryCommandCtor:DescribeEndpointsCommand}),d=dist_es_runtimeExtensions_resolveRuntimeExtensions(l,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(getRetryPlugin(this.config)),this.middlewareStack.use(getContentLengthPlugin(this.config)),this.middlewareStack.use(getHostHeaderPlugin(this.config)),this.middlewareStack.use(getLoggerPlugin(this.config)),this.middlewareStack.use(getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(getAwsAuthPlugin(this.config)),this.middlewareStack.use(getUserAgentPlugin(this.config))}destroy(){super.destroy()}}},6925:(e,t,r)=>{"use strict";r.d(t,{QZ:()=>de_DeleteItemCommand,k0:()=>de_DescribeEndpointsCommand,E6:()=>de_PutItemCommand,$t:()=>de_ScanCommand,Zm:()=>se_DeleteItemCommand,OM:()=>se_DescribeEndpointsCommand,IQ:()=>se_PutItemCommand,Rl:()=>se_ScanCommand});var n,i=r(6919);let awsExpectUnion=e=>{if(null!=e)return"object"==typeof e&&"__type"in e&&delete e.__type,(0,i.$I)(e)};var o=r(9933);let DynamoDBServiceException=class DynamoDBServiceException extends i.sI{constructor(e){super(e),Object.setPrototypeOf(this,DynamoDBServiceException.prototype)}};let InternalServerError=class InternalServerError extends DynamoDBServiceException{constructor(e){super({name:"InternalServerError",$fault:"server",...e}),this.name="InternalServerError",this.$fault="server",Object.setPrototypeOf(this,InternalServerError.prototype)}};let RequestLimitExceeded=class RequestLimitExceeded extends DynamoDBServiceException{constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),this.name="RequestLimitExceeded",this.$fault="client",Object.setPrototypeOf(this,RequestLimitExceeded.prototype)}};let InvalidEndpointException=class InvalidEndpointException extends DynamoDBServiceException{constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),this.name="InvalidEndpointException",this.$fault="client",Object.setPrototypeOf(this,InvalidEndpointException.prototype),this.Message=e.Message}};let ProvisionedThroughputExceededException=class ProvisionedThroughputExceededException extends DynamoDBServiceException{constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),this.name="ProvisionedThroughputExceededException",this.$fault="client",Object.setPrototypeOf(this,ProvisionedThroughputExceededException.prototype)}};let ResourceNotFoundException=class ResourceNotFoundException extends DynamoDBServiceException{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ResourceNotFoundException.prototype)}};let ItemCollectionSizeLimitExceededException=class ItemCollectionSizeLimitExceededException extends DynamoDBServiceException{constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),this.name="ItemCollectionSizeLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,ItemCollectionSizeLimitExceededException.prototype)}};let TransactionConflictException=class TransactionConflictException extends DynamoDBServiceException{constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),this.name="TransactionConflictException",this.$fault="client",Object.setPrototypeOf(this,TransactionConflictException.prototype)}};(n||(n={})).visit=(e,t)=>void 0!==e.S?t.S(e.S):void 0!==e.N?t.N(e.N):void 0!==e.B?t.B(e.B):void 0!==e.SS?t.SS(e.SS):void 0!==e.NS?t.NS(e.NS):void 0!==e.BS?t.BS(e.BS):void 0!==e.M?t.M(e.M):void 0!==e.L?t.L(e.L):void 0!==e.NULL?t.NULL(e.NULL):void 0!==e.BOOL?t.BOOL(e.BOOL):t._(e.$unknown[0],e.$unknown[1]);let ConditionalCheckFailedException=class ConditionalCheckFailedException extends DynamoDBServiceException{constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),this.name="ConditionalCheckFailedException",this.$fault="client",Object.setPrototypeOf(this,ConditionalCheckFailedException.prototype),this.Item=e.Item}};let se_DeleteItemCommand=async(e,t)=>{let r;let n=sharedHeaders("DeleteItem");return r=JSON.stringify(se_DeleteItemInput(e,t)),buildHttpRpcRequest(t,n,"/",void 0,r)},se_DescribeEndpointsCommand=async(e,t)=>{let r=sharedHeaders("DescribeEndpoints");return buildHttpRpcRequest(t,r,"/",void 0,JSON.stringify((0,i.F3)(e)))},se_PutItemCommand=async(e,t)=>{let r;let n=sharedHeaders("PutItem");return r=JSON.stringify(se_PutItemInput(e,t)),buildHttpRpcRequest(t,n,"/",void 0,r)},se_ScanCommand=async(e,t)=>{let r;let n=sharedHeaders("Scan");return r=JSON.stringify(se_ScanInput(e,t)),buildHttpRpcRequest(t,n,"/",void 0,r)},de_DeleteItemCommand=async(e,t)=>{if(e.statusCode>=300)return de_DeleteItemCommandError(e,t);let r=await parseBody(e.body,t),n={};n=de_DeleteItemOutput(r,t);let i={$metadata:deserializeMetadata(e),...n};return i},de_DeleteItemCommandError=async(e,t)=>{let r={...e,body:await parseErrorBody(e.body,t)},n=loadRestJsonErrorCode(e,r.body);switch(n){case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await de_ConditionalCheckFailedExceptionRes(r,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await de_InternalServerErrorRes(r,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await de_InvalidEndpointExceptionRes(r,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await de_ItemCollectionSizeLimitExceededExceptionRes(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await de_ProvisionedThroughputExceededExceptionRes(r,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await de_RequestLimitExceededRes(r,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await de_ResourceNotFoundExceptionRes(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await de_TransactionConflictExceptionRes(r,t);default:let i=r.body;return s({output:e,parsedBody:i,errorCode:n})}},de_DescribeEndpointsCommand=async(e,t)=>{if(e.statusCode>=300)return de_DescribeEndpointsCommandError(e,t);let r=await parseBody(e.body,t),n={};n=(0,i.F3)(r);let o={$metadata:deserializeMetadata(e),...n};return o},de_DescribeEndpointsCommandError=async(e,t)=>{let r={...e,body:await parseErrorBody(e.body,t)},n=loadRestJsonErrorCode(e,r.body),i=r.body;return s({output:e,parsedBody:i,errorCode:n})},de_PutItemCommand=async(e,t)=>{if(e.statusCode>=300)return de_PutItemCommandError(e,t);let r=await parseBody(e.body,t),n={};n=de_PutItemOutput(r,t);let i={$metadata:deserializeMetadata(e),...n};return i},de_PutItemCommandError=async(e,t)=>{let r={...e,body:await parseErrorBody(e.body,t)},n=loadRestJsonErrorCode(e,r.body);switch(n){case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await de_ConditionalCheckFailedExceptionRes(r,t);case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await de_InternalServerErrorRes(r,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await de_InvalidEndpointExceptionRes(r,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await de_ItemCollectionSizeLimitExceededExceptionRes(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await de_ProvisionedThroughputExceededExceptionRes(r,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await de_RequestLimitExceededRes(r,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await de_ResourceNotFoundExceptionRes(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await de_TransactionConflictExceptionRes(r,t);default:let i=r.body;return s({output:e,parsedBody:i,errorCode:n})}},de_ScanCommand=async(e,t)=>{if(e.statusCode>=300)return de_ScanCommandError(e,t);let r=await parseBody(e.body,t),n={};n=de_ScanOutput(r,t);let i={$metadata:deserializeMetadata(e),...n};return i},de_ScanCommandError=async(e,t)=>{let r={...e,body:await parseErrorBody(e.body,t)},n=loadRestJsonErrorCode(e,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await de_InternalServerErrorRes(r,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await de_InvalidEndpointExceptionRes(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await de_ProvisionedThroughputExceededExceptionRes(r,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await de_RequestLimitExceededRes(r,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await de_ResourceNotFoundExceptionRes(r,t);default:let i=r.body;return s({output:e,parsedBody:i,errorCode:n})}},de_ConditionalCheckFailedExceptionRes=async(e,t)=>{let r=e.body,n=de_ConditionalCheckFailedException(r,t),o=new ConditionalCheckFailedException({$metadata:deserializeMetadata(e),...n});return(0,i.to)(o,r)},de_InternalServerErrorRes=async(e,t)=>{let r=e.body,n=(0,i.F3)(r),o=new InternalServerError({$metadata:deserializeMetadata(e),...n});return(0,i.to)(o,r)},de_InvalidEndpointExceptionRes=async(e,t)=>{let r=e.body,n=(0,i.F3)(r),o=new InvalidEndpointException({$metadata:deserializeMetadata(e),...n});return(0,i.to)(o,r)},de_ItemCollectionSizeLimitExceededExceptionRes=async(e,t)=>{let r=e.body,n=(0,i.F3)(r),o=new ItemCollectionSizeLimitExceededException({$metadata:deserializeMetadata(e),...n});return(0,i.to)(o,r)},de_ProvisionedThroughputExceededExceptionRes=async(e,t)=>{let r=e.body,n=(0,i.F3)(r),o=new ProvisionedThroughputExceededException({$metadata:deserializeMetadata(e),...n});return(0,i.to)(o,r)},de_RequestLimitExceededRes=async(e,t)=>{let r=e.body,n=(0,i.F3)(r),o=new RequestLimitExceeded({$metadata:deserializeMetadata(e),...n});return(0,i.to)(o,r)},de_ResourceNotFoundExceptionRes=async(e,t)=>{let r=e.body,n=(0,i.F3)(r),o=new ResourceNotFoundException({$metadata:deserializeMetadata(e),...n});return(0,i.to)(o,r)},de_TransactionConflictExceptionRes=async(e,t)=>{let r=e.body,n=(0,i.F3)(r),o=new TransactionConflictException({$metadata:deserializeMetadata(e),...n});return(0,i.to)(o,r)},se_AttributeValue=(e,t)=>n.visit(e,{B:e=>({B:t.base64Encoder(e)}),BOOL:e=>({BOOL:e}),BS:e=>({BS:se_BinarySetAttributeValue(e,t)}),L:e=>({L:se_ListAttributeValue(e,t)}),M:e=>({M:se_MapAttributeValue(e,t)}),N:e=>({N:e}),NS:e=>({NS:(0,i.F3)(e)}),NULL:e=>({NULL:e}),S:e=>({S:e}),SS:e=>({SS:(0,i.F3)(e)}),_:(e,t)=>({name:t})}),se_AttributeValueList=(e,t)=>e.filter(e=>null!=e).map(e=>se_AttributeValue(e,t)),se_BinarySetAttributeValue=(e,t)=>e.filter(e=>null!=e).map(e=>t.base64Encoder(e)),se_Condition=(e,t)=>(0,i.qn)(e,{AttributeValueList:e=>se_AttributeValueList(e,t),ComparisonOperator:[]}),se_DeleteItemInput=(e,t)=>(0,i.qn)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:e=>se_ExpectedAttributeMap(e,t),ExpressionAttributeNames:i.F3,ExpressionAttributeValues:e=>se_ExpressionAttributeValueMap(e,t),Key:e=>se_Key(e,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),se_ExpectedAttributeMap=(e,t)=>Object.entries(e).reduce((e,[r,n])=>(null===n||(e[r]=se_ExpectedAttributeValue(n,t)),e),{}),se_ExpectedAttributeValue=(e,t)=>(0,i.qn)(e,{AttributeValueList:e=>se_AttributeValueList(e,t),ComparisonOperator:[],Exists:[],Value:e=>se_AttributeValue(e,t)}),se_ExpressionAttributeValueMap=(e,t)=>Object.entries(e).reduce((e,[r,n])=>(null===n||(e[r]=se_AttributeValue(n,t)),e),{}),se_FilterConditionMap=(e,t)=>Object.entries(e).reduce((e,[r,n])=>(null===n||(e[r]=se_Condition(n,t)),e),{}),se_Key=(e,t)=>Object.entries(e).reduce((e,[r,n])=>(null===n||(e[r]=se_AttributeValue(n,t)),e),{}),se_ListAttributeValue=(e,t)=>e.filter(e=>null!=e).map(e=>se_AttributeValue(e,t)),se_MapAttributeValue=(e,t)=>Object.entries(e).reduce((e,[r,n])=>(null===n||(e[r]=se_AttributeValue(n,t)),e),{}),se_PutItemInput=(e,t)=>(0,i.qn)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:e=>se_ExpectedAttributeMap(e,t),ExpressionAttributeNames:i.F3,ExpressionAttributeValues:e=>se_ExpressionAttributeValueMap(e,t),Item:e=>se_PutItemInputAttributeMap(e,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),se_PutItemInputAttributeMap=(e,t)=>Object.entries(e).reduce((e,[r,n])=>(null===n||(e[r]=se_AttributeValue(n,t)),e),{}),se_ScanInput=(e,t)=>(0,i.qn)(e,{AttributesToGet:i.F3,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:e=>se_Key(e,t),ExpressionAttributeNames:i.F3,ExpressionAttributeValues:e=>se_ExpressionAttributeValueMap(e,t),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:e=>se_FilterConditionMap(e,t),Segment:[],Select:[],TableName:[],TotalSegments:[]}),de_AttributeMap=(e,t)=>Object.entries(e).reduce((e,[r,n])=>(null===n||(e[r]=de_AttributeValue(awsExpectUnion(n),t)),e),{}),de_AttributeValue=(e,t)=>null!=e.B?{B:t.base64Decoder(e.B)}:void 0!==(0,i.zE)(e.BOOL)?{BOOL:(0,i.zE)(e.BOOL)}:null!=e.BS?{BS:de_BinarySetAttributeValue(e.BS,t)}:null!=e.L?{L:de_ListAttributeValue(e.L,t)}:null!=e.M?{M:de_MapAttributeValue(e.M,t)}:void 0!==(0,i.pY)(e.N)?{N:(0,i.pY)(e.N)}:null!=e.NS?{NS:(0,i.F3)(e.NS)}:void 0!==(0,i.zE)(e.NULL)?{NULL:(0,i.zE)(e.NULL)}:void 0!==(0,i.pY)(e.S)?{S:(0,i.pY)(e.S)}:null!=e.SS?{SS:(0,i.F3)(e.SS)}:{$unknown:Object.entries(e)[0]},de_BinarySetAttributeValue=(e,t)=>{let r=(e||[]).filter(e=>null!=e).map(e=>t.base64Decoder(e));return r},de_Capacity=(e,t)=>(0,i.qn)(e,{CapacityUnits:i.mr,ReadCapacityUnits:i.mr,WriteCapacityUnits:i.mr}),de_ConditionalCheckFailedException=(e,t)=>(0,i.qn)(e,{Item:e=>de_AttributeMap(e,t),message:i.pY}),de_ConsumedCapacity=(e,t)=>(0,i.qn)(e,{CapacityUnits:i.mr,GlobalSecondaryIndexes:e=>de_SecondaryIndexesCapacityMap(e,t),LocalSecondaryIndexes:e=>de_SecondaryIndexesCapacityMap(e,t),ReadCapacityUnits:i.mr,Table:e=>de_Capacity(e,t),TableName:i.pY,WriteCapacityUnits:i.mr}),de_DeleteItemOutput=(e,t)=>(0,i.qn)(e,{Attributes:e=>de_AttributeMap(e,t),ConsumedCapacity:e=>de_ConsumedCapacity(e,t),ItemCollectionMetrics:e=>de_ItemCollectionMetrics(e,t)}),de_ItemCollectionKeyAttributeMap=(e,t)=>Object.entries(e).reduce((e,[r,n])=>(null===n||(e[r]=de_AttributeValue(awsExpectUnion(n),t)),e),{}),de_ItemCollectionMetrics=(e,t)=>(0,i.qn)(e,{ItemCollectionKey:e=>de_ItemCollectionKeyAttributeMap(e,t),SizeEstimateRangeGB:e=>de_ItemCollectionSizeEstimateRange(e,t)}),de_ItemCollectionSizeEstimateRange=(e,t)=>{let r=(e||[]).filter(e=>null!=e).map(e=>(0,i.mr)(e));return r},de_ItemList=(e,t)=>{let r=(e||[]).filter(e=>null!=e).map(e=>de_AttributeMap(e,t));return r},de_Key=(e,t)=>Object.entries(e).reduce((e,[r,n])=>(null===n||(e[r]=de_AttributeValue(awsExpectUnion(n),t)),e),{}),de_ListAttributeValue=(e,t)=>{let r=(e||[]).filter(e=>null!=e).map(e=>de_AttributeValue(awsExpectUnion(e),t));return r},de_MapAttributeValue=(e,t)=>Object.entries(e).reduce((e,[r,n])=>(null===n||(e[r]=de_AttributeValue(awsExpectUnion(n),t)),e),{}),de_PutItemOutput=(e,t)=>(0,i.qn)(e,{Attributes:e=>de_AttributeMap(e,t),ConsumedCapacity:e=>de_ConsumedCapacity(e,t),ItemCollectionMetrics:e=>de_ItemCollectionMetrics(e,t)}),de_ScanOutput=(e,t)=>(0,i.qn)(e,{ConsumedCapacity:e=>de_ConsumedCapacity(e,t),Count:i.u$,Items:e=>de_ItemList(e,t),LastEvaluatedKey:e=>de_Key(e,t),ScannedCount:i.u$}),de_SecondaryIndexesCapacityMap=(e,t)=>Object.entries(e).reduce((e,[r,n])=>(null===n||(e[r]=de_Capacity(n,t)),e),{}),deserializeMetadata=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),collectBodyString=(e,t)=>(0,i.Wg)(e,t).then(e=>t.utf8Encoder(e)),s=(0,i.PC)(DynamoDBServiceException),buildHttpRpcRequest=async(e,t,r,n,i)=>{let{hostname:s,protocol:a="https",port:l,path:d}=await e.endpoint(),c={protocol:a,hostname:s,port:l,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:t};return void 0!==n&&(c.hostname=n),void 0!==i&&(c.body=i),new o.aW(c)};function sharedHeaders(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}let parseBody=(e,t)=>collectBodyString(e,t).then(e=>e.length?JSON.parse(e):{}),parseErrorBody=async(e,t)=>{let r=await parseBody(e,t);return r.message=r.message??r.Message,r},loadRestJsonErrorCode=(e,t)=>{let sanitizeErrorCode=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=Object.keys(e.headers).find(e=>"x-amzn-errortype"===e.toLowerCase());return void 0!==r?sanitizeErrorCode(e.headers[r]):void 0!==t.code?sanitizeErrorCode(t.code):void 0!==t.__type?sanitizeErrorCode(t.__type):void 0}},235:(e,t,r)=>{"use strict";var n=r(83),i=r(6596),o=r(7369),s=r(4883);function LRUCache(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,"number"!=typeof this.capacity||this.capacity<=0)throw Error("mnemonist/lru-cache: capacity should be positive number.");var n=o.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K="function"==typeof e?new e(r):Array(r),this.V="function"==typeof t?new t(r):Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}LRUCache.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},LRUCache.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this},LRUCache.prototype.set=function(e,t){var r=this.items[e];if(void 0!==r){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r},LRUCache.prototype.setpop=function(e,t){var r=null,n=null,i=this.items[e];return void 0!==i?(this.splayOnTop(i),r=this.V[i],this.V[i]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?i=this.size++:(i=this.tail,this.tail=this.backward[i],r=this.V[i],n=this.K[i],delete this.items[this.K[i]]),this.items[e]=i,this.K[i]=e,this.V[i]=t,this.forward[i]=this.head,this.backward[this.head]=i,this.head=i,n)?{evicted:!0,key:n,value:r}:null},LRUCache.prototype.has=function(e){return e in this.items},LRUCache.prototype.get=function(e){var t=this.items[e];if(void 0!==t)return this.splayOnTop(t),this.V[t]},LRUCache.prototype.peek=function(e){var t=this.items[e];if(void 0!==t)return this.V[t]},LRUCache.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,i=this.head,o=this.K,s=this.V,a=this.forward;r<n;)e.call(t,s[i],o[i],this),i=a[i],r++},LRUCache.prototype.keys=function(){var e=0,t=this.size,r=this.head,i=this.K,o=this.forward;return new n(function(){if(e>=t)return{done:!0};var n=i[r];return++e<t&&(r=o[r]),{done:!1,value:n}})},LRUCache.prototype.values=function(){var e=0,t=this.size,r=this.head,i=this.V,o=this.forward;return new n(function(){if(e>=t)return{done:!0};var n=i[r];return++e<t&&(r=o[r]),{done:!1,value:n}})},LRUCache.prototype.entries=function(){var e=0,t=this.size,r=this.head,i=this.K,o=this.V,s=this.forward;return new n(function(){if(e>=t)return{done:!0};var n=i[r],a=o[r];return++e<t&&(r=s[r]),{done:!1,value:[n,a]}})},"undefined"!=typeof Symbol&&(LRUCache.prototype[Symbol.iterator]=LRUCache.prototype.entries),LRUCache.prototype.inspect=function(){for(var e,t=new Map,r=this.entries();!(e=r.next()).done;)t.set(e.value[0],e.value[1]);return Object.defineProperty(t,"constructor",{value:LRUCache,enumerable:!1}),t},"undefined"!=typeof Symbol&&(LRUCache.prototype[Symbol.for("nodejs.util.inspect.custom")]=LRUCache.prototype.inspect),LRUCache.from=function(e,t,r,n){if(arguments.length<2){if("number"!=typeof(n=s.guessLength(e)))throw Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else 2==arguments.length&&(n=t,t=null,r=null);var o=new LRUCache(t,r,n);return i(e,function(e,t){o.set(t,e)}),o},e.exports=LRUCache},4883:(e,t,r)=>{var n=r(6596),i=r(7369);function isArrayLike(e){return Array.isArray(e)||i.isTypedArray(e)}function guessLength(e){return"number"==typeof e.length?e.length:"number"==typeof e.size?e.size:void 0}function toArray(e){var t=guessLength(e),r="number"==typeof t?Array(t):[],i=0;return n(e,function(e){r[i++]=e}),r}function toArrayWithIndices(e){var t=guessLength(e),r="number"==typeof t?i.getPointerArray(t):Array,o="number"==typeof t?Array(t):[],s="number"==typeof t?new r(t):[],a=0;return n(e,function(e){o[a]=e,s[a]=a++}),[o,s]}t.isArrayLike=isArrayLike,t.guessLength=guessLength,t.toArray=toArray,t.toArrayWithIndices=toArrayWithIndices},7369:(e,t)=>{t.getPointerArray=function(e){var t=e-1;return t<=255?Uint8Array:t<=65535?Uint16Array:t<=4294967295?Uint32Array:Float64Array},t.getSignedPointerArray=function(e){var t=e-1;return t<=127?Int8Array:t<=32767?Int16Array:t<=2147483647?Int32Array:Float64Array},t.getNumberType=function(e){return e===(0|e)?-1===Math.sign(e)?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var r={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(e,n){var i,o,s,a,l,d=null,c=0;for(a=0,l=e.length;a<l;a++)s=n?n(e[a]):e[a],(i=r[(o=t.getNumberType(s)).name])>c&&(c=i,d=o);return d},t.isTypedArray=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)},t.concat=function(){var e,t,r,n=0;for(e=0,r=arguments.length;e<r;e++)n+=arguments[e].length;var i=new arguments[0].constructor(n);for(e=0,t=0;e<r;e++)i.set(arguments[e],t),t+=arguments[e].length;return i},t.indices=function(e){for(var r=new(t.getPointerArray(e))(e),n=0;n<e;n++)r[n]=n;return r}},6596:e=>{"use strict";var t="undefined"!=typeof ArrayBuffer,r="undefined"!=typeof Symbol;function forEach(e,n){var i,o,s,a,l;if(!e)throw Error("obliterator/forEach: invalid iterable.");if("function"!=typeof n)throw Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||t&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString()){for(s=0,a=e.length;s<a;s++)n(e[s],s);return}if("function"==typeof e.forEach){e.forEach(n);return}if(r&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"==typeof e.next){for(i=e,s=0;!0!==(l=i.next()).done;)n(l.value,s),s++;return}for(o in e)e.hasOwnProperty(o)&&n(e[o],o)}forEach.forEachWithNullKeys=function(e,n){var i,o,s,a,l;if(!e)throw Error("obliterator/forEachWithNullKeys: invalid iterable.");if("function"!=typeof n)throw Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||t&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString()){for(s=0,a=e.length;s<a;s++)n(e[s],null);return}if(e instanceof Set){e.forEach(function(e){n(e,null)});return}if("function"==typeof e.forEach){e.forEach(n);return}if(r&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"==typeof e.next){for(i=e,s=0;!0!==(l=i.next()).done;)n(l.value,null),s++;return}for(o in e)e.hasOwnProperty(o)&&n(e[o],o)},e.exports=forEach},83:e=>{"use strict";function Iterator(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}Iterator.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e},"undefined"!=typeof Symbol&&(Iterator.prototype[Symbol.iterator]=function(){return this}),Iterator.of=function(){var e=arguments,t=e.length,r=0;return new Iterator(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})},Iterator.empty=function(){var e=new Iterator(null);return e.done=!0,e},Iterator.is=function(e){return e instanceof Iterator||"object"==typeof e&&null!==e&&"function"==typeof e.next},e.exports=Iterator},7609:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fromUtf8:()=>dist_es_fromUtf8,toUtf8:()=>dist_es_toUtf8});let fromUtf8=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let n=e.charCodeAt(r);if(n<128)t.push(n);else if(n<2048)t.push(n>>6|192,63&n|128);else if(r+1<e.length&&(64512&n)==55296&&(64512&e.charCodeAt(r+1))==56320){let i=65536+((1023&n)<<10)+(1023&e.charCodeAt(++r));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(n>>12|224,n>>6&63|128,63&n|128)}return Uint8Array.from(t)},toUtf8=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let n=e[r];if(n<128)t+=String.fromCharCode(n);else if(192<=n&&n<224){let i=e[++r];t+=String.fromCharCode((31&n)<<6|63&i)}else if(240<=n&&n<365){let i=[n,e[++r],e[++r],e[++r]],o="%"+i.map(e=>e.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((15&n)<<12|(63&e[++r])<<6|63&e[++r])}return t};function whatwgEncodingApi_fromUtf8(e){return new TextEncoder().encode(e)}function whatwgEncodingApi_toUtf8(e){return new TextDecoder("utf-8").decode(e)}let dist_es_fromUtf8=e=>"function"==typeof TextEncoder?whatwgEncodingApi_fromUtf8(e):fromUtf8(e),dist_es_toUtf8=e=>"function"==typeof TextDecoder?whatwgEncodingApi_toUtf8(e):toUtf8(e)},4527:(e,t,r)=>{"use strict";r.d(t,{e:()=>isArrayBuffer});let isArrayBuffer=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)},8054:(e,t,r)=>{"use strict";r.d(t,{a3:()=>getEndpointPlugin,uW:()=>resolveEndpointConfig});let resolveParamsForS3=async e=>{let t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),isArnBucketName(t)){if(!0===e.ForcePathStyle)throw Error("Path-style addressing cannot be used with ARN buckets")}else isDnsCompatibleBucketName(t)&&(-1===t.indexOf(".")||String(e.Endpoint).startsWith("http:"))&&t.toLowerCase()===t&&!(t.length<3)||(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},n=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,i=/(\d+\.){3}\d+/,o=/\.\./,isDnsCompatibleBucketName=e=>n.test(e)&&!i.test(e)&&!o.test(e),isArnBucketName=e=>{let[t,r,n,i,o,s]=e.split(":"),a="arn"===t&&e.split(":").length>=6,l=5===[t,r,n,o,s].filter(Boolean).length;if(a&&!l)throw Error(`Invalid ARN: ${e} was an invalid ARN.`);return"arn"===t&&!!r&&!!n&&!!o&&!!s},createConfigValueProvider=(e,t,r)=>{let configProvider=async()=>{let n=r[e]??r[t];return"function"==typeof n?n():n};return"endpoint"===e||"endpoint"===t?async()=>{let e=await configProvider();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){let{protocol:t,hostname:r,port:n,path:i}=e;return`${t}//${r}${n?":"+n:""}${i}`}}return e}:configProvider};var s=r(5900),a=r(3476);let l="AWS_ENDPOINT_URL",d="endpoint_url",getEndpointUrlConfig=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(e=>e.toUpperCase()),n=t[[l,...r].join("_")];if(n)return n;let i=t[l];if(i)return i},configFileSelector:(t,r)=>{if(r&&t.services){let n=r[["services",t.services].join(a.Ck)];if(n){let t=e.split(" ").map(e=>e.toLowerCase()),r=n[[t.join("_"),d].join(a.Ck)];if(r)return r}}let n=t[d];if(n)return n},default:void 0}),getEndpointFromConfig=async e=>(0,s.M)(getEndpointUrlConfig(e))();var c=r(2944);let toEndpointV1=e=>"object"==typeof e?"url"in e?(0,c.e)(e.url):e:(0,c.e)(e),getEndpointFromInstructions=async(e,t,r,n)=>{if(!r.endpoint){let e=await getEndpointFromConfig(r.serviceId||"");e&&(r.endpoint=()=>Promise.resolve(toEndpointV1(e)))}let i=await resolveParams(e,t,r);if("function"!=typeof r.endpointProvider)throw Error("config.endpointProvider is not set.");let o=r.endpointProvider(i,n);return o},resolveParams=async(e,t,r)=>{let n={},i=t?.getEndpointParameterInstructions?.()||{};for(let[t,o]of Object.entries(i))switch(o.type){case"staticContextParams":n[t]=o.value;break;case"contextParams":n[t]=e[o.name];break;case"clientContextParams":case"builtInParams":n[t]=await createConfigValueProvider(o.name,t,r)();break;default:throw Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return 0===Object.keys(i).length&&Object.assign(n,r),"s3"===String(r.serviceId).toLowerCase()&&await resolveParamsForS3(n),n},endpointMiddleware=({config:e,instructions:t})=>(r,n)=>async i=>{let o=await getEndpointFromInstructions(i.input,{getEndpointParameterInstructions:()=>t},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let s=n.authSchemes?.[0];return s&&(n.signing_region=s.signingRegion,n.signing_service=s.signingName),r({...i})};var u=r(2832);let p={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:u.JK.name},getEndpointPlugin=(e,t)=>({applyToStack:r=>{r.addRelativeTo(endpointMiddleware({config:e,instructions:t}),p)}});var f=r(8259);let resolveEndpointConfig=e=>{let t=e.tls??!0,{endpoint:r}=e,n=null!=r?async()=>toEndpointV1(await (0,f.$)(r)()):void 0,i=!!r;return{...e,endpoint:n,tls:t,isCustomEndpoint:i,useDualstackEndpoint:(0,f.$)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,f.$)(e.useFipsEndpoint??!1)}}},2832:(e,t,r)=>{"use strict";r.d(t,{p2:()=>getSerdePlugin,JK:()=>i});let deserializerMiddleware=(e,t)=>(r,n)=>async n=>{let{response:i}=await r(n);try{let r=await t(i,e);return{response:i,output:r}}catch(e){throw Object.defineProperty(e,"$response",{value:i}),"$metadata"in e||(e.message+="\n  Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object."),e}},serializerMiddleware=(e,t)=>(r,n)=>async i=>{let o=n.endpointV2?.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!o)throw Error("No valid endpoint provider available.");let s=await t(i.input,{...e,endpoint:o});return r({...i,request:s})},n={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},i={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function getSerdePlugin(e,t,r){return{applyToStack:o=>{o.add(deserializerMiddleware(e,r),n),o.add(serializerMiddleware(e,t),i)}}}},5900:(e,t,r)=>{"use strict";r.d(t,{M:()=>loadConfig});var n=r(7988),i=r(2366),o=r(6348);let fromEnv=e=>async()=>{try{let t=e(process.env);if(void 0===t)throw Error();return t}catch(t){throw new o.m(t.message||`Cannot load config from environment variables with getter: ${e}`)}};var s=r(3476);let fromSharedConfigFiles=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,s.Jl)(r),{configFile:i,credentialsFile:a}=await (0,s.Zl)(r),l=a[n]||{},d=i[n]||{},c="config"===t?{...l,...d}:{...d,...l};try{let r=e(c,"config"===t?i:a);if(void 0===r)throw Error();return r}catch(t){throw new o.m(t.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}},fromStatic=e=>()=>Promise.resolve(e),isFunction=e=>"function"==typeof e,fromStatic_fromStatic=e=>isFunction(e)?async()=>await e():fromStatic(e),loadConfig=({environmentVariableSelector:e,configFileSelector:t,default:r},o={})=>(0,n.H)((0,i.t)(fromEnv(e),fromSharedConfigFiles(t,o),fromStatic_fromStatic(r)))},7734:(e,t,r)=>{"use strict";r.d(t,{NA:()=>NodeHttpHandler,CF:()=>streamCollector});var n=r(9933),i=r(543);function dist_es_buildQueryString(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,i.i)(r),Array.isArray(n))for(let e=0,o=n.length;e<o;e++)t.push(`${r}=${(0,i.i)(n[e])}`);else{let e=r;(n||"string"==typeof n)&&(e+=`=${(0,i.i)(n)}`),t.push(e)}}return t.join("&")}var o=r(3685),s=r(5687);let a=["ECONNRESET","EPIPE","ETIMEDOUT"],get_transformed_headers_getTransformedHeaders=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},setConnectionTimeout=(e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",e=>{e.connecting?e.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},setSocketKeepAlive=(e,{keepAlive:t,keepAliveMsecs:r})=>{!0===t&&e.on("socket",e=>{e.setKeepAlive(t,r||0)})},setSocketTimeout=(e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})};var l=r(2781);async function write_request_body_writeRequestBody(e,t,r=1e3){let n=t.headers??{},i=n.Expect||n.expect,o=-1,s=!1;"100-continue"===i&&await Promise.race([new Promise(e=>{o=Number(setTimeout(e,Math.max(1e3,r)))}),new Promise(t=>{e.on("continue",()=>{clearTimeout(o),t()}),e.on("error",()=>{s=!0,clearTimeout(o),t()})})]),s||writeBody(e,t.body)}function writeBody(e,t){t instanceof l.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}let NodeHttpHandler=class NodeHttpHandler{constructor(e){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((t,r)=>{"function"==typeof e?e().then(e=>{t(this.resolveDefaultConfig(e))}).catch(r):t(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:t,connectionTimeout:r,socketTimeout:n,httpAgent:i,httpsAgent:a}=e||{};return{connectionTimeout:r,requestTimeout:t??n,httpAgent:i||new o.Agent({keepAlive:!0,maxSockets:50}),httpsAgent:a||new s.Agent({keepAlive:!0,maxSockets:50})}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:t}={}){return this.config||(this.config=await this.configProvider),new Promise((r,i)=>{let l,d;let resolve=async e=>{await l,r(e)},reject=async e=>{await l,i(e)};if(!this.config)throw Error("Node HTTP request handler config is not resolved");if(t?.aborted){let e=Error("Request aborted");e.name="AbortError",reject(e);return}let c="https:"===e.protocol,u=dist_es_buildQueryString(e.query||{});if(null!=e.username||null!=e.password){let t=e.username??"",r=e.password??"";d=`${t}:${r}`}let p=e.path;u&&(p+=`?${u}`),e.fragment&&(p+=`#${e.fragment}`);let f={headers:e.headers,host:e.hostname,method:e.method,path:p,port:e.port,agent:c?this.config.httpsAgent:this.config.httpAgent,auth:d},h=c?s.request:o.request,m=h(f,e=>{let t=new n.Zn({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:get_transformed_headers_getTransformedHeaders(e.headers),body:e});resolve({response:t})});m.on("error",e=>{a.includes(e.code)?reject(Object.assign(e,{name:"TimeoutError"})):reject(e)}),setConnectionTimeout(m,reject,this.config.connectionTimeout),setSocketTimeout(m,reject,this.config.requestTimeout),t&&(t.onabort=()=>{m.abort();let e=Error("Request aborted");e.name="AbortError",reject(e)});let g=f.agent;"object"==typeof g&&"keepAlive"in g&&setSocketKeepAlive(m,{keepAlive:g.keepAlive,keepAliveMsecs:g.keepAliveMsecs}),l=write_request_body_writeRequestBody(m,e,this.config.requestTimeout).catch(i)})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[e]:t}))}httpHandlerConfigs(){return this.config??{}}};r(5158),Symbol.iterator;let Collector=class Collector extends l.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,t,r){this.bufferedBytes.push(e),r()}};let streamCollector=e=>new Promise((t,r)=>{let n=new Collector;e.pipe(n),e.on("error",e=>{n.end(),r(e)}),n.on("error",r),n.on("finish",function(){let e=new Uint8Array(Buffer.concat(this.bufferedBytes));t(e)})})},6348:(e,t,r)=>{"use strict";r.d(t,{m:()=>CredentialsProviderError});var n=r(510);let CredentialsProviderError=class CredentialsProviderError extends n.k{constructor(e,t=!0){super(e,t),this.tryNextLink=t,this.name="CredentialsProviderError",Object.setPrototypeOf(this,CredentialsProviderError.prototype)}}},510:(e,t,r)=>{"use strict";r.d(t,{k:()=>ProviderError});let ProviderError=class ProviderError extends Error{constructor(e,t=!0){super(e),this.tryNextLink=t,this.name="ProviderError",Object.setPrototypeOf(this,ProviderError.prototype)}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}}},2366:(e,t,r)=>{"use strict";r.d(t,{t:()=>chain});var n=r(510);let chain=(...e)=>async()=>{let t;if(0===e.length)throw new n.k("No providers in chain");for(let r of e)try{let e=await r();return e}catch(e){if(t=e,e?.tryNextLink)continue;throw e}throw t}},7988:(e,t,r)=>{"use strict";r.d(t,{H:()=>memoize});let memoize=(e,t,r)=>{let n,i,o;let s=!1,coalesceProvider=async()=>{i||(i=e());try{n=await i,o=!0,s=!1}finally{i=void 0}return n};return void 0===t?async e=>((!o||e?.forceRefresh)&&(n=await coalesceProvider()),n):async e=>((!o||e?.forceRefresh)&&(n=await coalesceProvider()),s||(r&&!r(n)?s=!0:t(n)&&await coalesceProvider()),n)}},9933:(e,t,r)=>{"use strict";r.d(t,{aW:()=>HttpRequest,Zn:()=>HttpResponse,cA:()=>getHttpHandlerExtensionConfiguration,AO:()=>resolveHttpHandlerRuntimeConfig});let getHttpHandlerExtensionConfiguration=e=>{let t=e.httpHandler;return{setHttpHandler(e){t=e},httpHandler:()=>t,updateHttpClientConfig(e,r){t.updateHttpClientConfig(e,r)},httpHandlerConfigs:()=>t.httpHandlerConfigs()}},resolveHttpHandlerRuntimeConfig=e=>({httpHandler:e.httpHandler()});r(3610);let HttpRequest=class HttpRequest{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){return!!e&&"method"in e&&"protocol"in e&&"hostname"in e&&"path"in e&&"object"==typeof e.query&&"object"==typeof e.headers}clone(){let e=new HttpRequest({...this,headers:{...this.headers}});return e.query&&(e.query=cloneQuery(e.query)),e}};function cloneQuery(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}let HttpResponse=class HttpResponse{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){return!!e&&"number"==typeof e.statusCode&&"object"==typeof e.headers}}},3476:(e,t,r)=>{"use strict";r.d(t,{Ck:()=>m,TH:()=>s,Jl:()=>getProfileName,Py:()=>getSSOTokenFilepath,gH:()=>getSSOTokenFromFile,Zl:()=>loadSharedConfigFiles,G:()=>loadSsoSessionData,MX:()=>parseKnownFiles});var n=r(2037),i=r(1017);let o={},getHomeDirCacheKey=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",getHomeDir=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:s=`C:${i.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${s}${r}`;let a=getHomeDirCacheKey();return o[a]||(o[a]=(0,n.homedir)()),o[a]},s="AWS_PROFILE",getProfileName=e=>e.profile||process.env[s]||"default";var a=r(6113);let getSSOTokenFilepath=e=>{let t=(0,a.createHash)("sha1"),r=t.update(e).digest("hex");return(0,i.join)(getHomeDir(),".aws","sso","cache",`${r}.json`)};var l=r(7147);let{readFile:d}=l.promises,getSSOTokenFromFile=async e=>{let t=getSSOTokenFilepath(e),r=await d(t,"utf8");return JSON.parse(r)};var c=r(3610);let getConfigData=e=>Object.entries(e).filter(([e])=>{let t=e.split(m);return!!(2===t.length&&Object.values(c.I).includes(t[0]))}).reduce((e,[t,r])=>{let n=t.startsWith(c.I.PROFILE)?t.split(m)[1]:t;return e[n]=r,e},{...e.default&&{default:e.default}}),getConfigFilepath=()=>process.env.AWS_CONFIG_FILE||(0,i.join)(getHomeDir(),".aws","config"),getCredentialsFilepath=()=>process.env.AWS_SHARED_CREDENTIALS_FILE||(0,i.join)(getHomeDir(),".aws","credentials"),u=/^([\w-]+)\s(["'])?([\w-@\+]+)\2$/,p=["__proto__","profile __proto__"],parseIni=e=>{let t,r;let n={};for(let i of e.split(/\r?\n/)){let e=i.split(/(^|\s)[;#]/)[0].trim(),o="["===e[0]&&"]"===e[e.length-1];if(o){t=void 0,r=void 0;let n=e.substring(1,e.length-1),i=u.exec(n);if(i){let[,e,,r]=i;Object.values(c.I).includes(e)&&(t=[e,r].join(m))}else t=n;if(p.includes(n))throw Error(`Found invalid profile name "${n}"`)}else if(t){let o=e.indexOf("=");if(![0,-1].includes(o)){let[s,a]=[e.substring(0,o).trim(),e.substring(o+1).trim()];if(""===a)r=s;else{r&&i.trimStart()===i&&(r=void 0),n[t]=n[t]||{};let e=r?[r,s].join(m):s;n[t][e]=a}}}}return n},{readFile:f}=l.promises,h={},slurpFile=(e,t)=>((!h[e]||t?.ignoreCache)&&(h[e]=f(e,"utf8")),h[e]),swallowError=()=>({}),m=".",loadSharedConfigFiles=async(e={})=>{let{filepath:t=getCredentialsFilepath(),configFilepath:r=getConfigFilepath()}=e,n=await Promise.all([slurpFile(r,{ignoreCache:e.ignoreCache}).then(parseIni).then(getConfigData).catch(swallowError),slurpFile(t,{ignoreCache:e.ignoreCache}).then(parseIni).catch(swallowError)]);return{configFile:n[0],credentialsFile:n[1]}},getSsoSessionData=e=>Object.entries(e).filter(([e])=>e.startsWith(c.I.SSO_SESSION+m)).reduce((e,[t,r])=>({...e,[t.split(m)[1]]:r}),{}),loadSsoSessionData_swallowError=()=>({}),loadSsoSessionData=async(e={})=>slurpFile(e.configFilepath??getConfigFilepath()).then(parseIni).then(getSsoSessionData).catch(loadSsoSessionData_swallowError),mergeConfigFiles=(...e)=>{let t={};for(let r of e)for(let[e,n]of Object.entries(r))void 0!==t[e]?Object.assign(t[e],n):t[e]=n;return t},parseKnownFiles=async e=>{let t=await loadSharedConfigFiles(e);return mergeConfigFiles(t.configFile,t.credentialsFile)}},6919:(e,t,r)=>{"use strict";r.d(t,{KU:()=>Client,mY:()=>Command,vk:()=>NoOpLogger,oc:()=>a,sI:()=>ServiceException,F3:()=>_json,Wg:()=>collectBody,TW:()=>createAggregatedClient,to:()=>decorateServiceException,H_:()=>emitWarningIfUnsupportedVersion,zE:()=>expectBoolean,u$:()=>expectInt32,a_:()=>expectLong,CE:()=>expectNonNull,Wh:()=>expectObject,pY:()=>expectString,$I:()=>expectUnion,jc:()=>extendedEncodeURIComponent,kE:()=>getDefaultExtensionConfiguration,sT:()=>getValueFromTextNode,mr:()=>limitedParseDouble,jv:()=>loadConfigsForDefaultMode,UI:()=>map,aH:()=>parseRfc3339DateTimeWithOffset,SQ:()=>resolveDefaultRuntimeConfig,AF:()=>strictParseInt32,qn:()=>take,PC:()=>withBaseException});let NoOpLogger=class NoOpLogger{trace(){}debug(){}info(){}warn(){}error(){}};let getAllAliases=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let e of t)r.push(e);return r},getMiddlewareNameWithAliases=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,constructStack=()=>{let e=[],t=[],r=!1,o=new Set,sort=e=>e.sort((e,t)=>n[t.step]-n[e.step]||i[t.priority||"normal"]-i[e.priority||"normal"]),removeByName=r=>{let n=!1,filterCb=e=>{let t=getAllAliases(e.name,e.aliases);if(t.includes(r)){for(let e of(n=!0,t))o.delete(e);return!1}return!0};return e=e.filter(filterCb),t=t.filter(filterCb),n},removeByReference=r=>{let n=!1,filterCb=e=>{if(e.middleware===r){for(let t of(n=!0,getAllAliases(e.name,e.aliases)))o.delete(t);return!1}return!0};return e=e.filter(filterCb),t=t.filter(filterCb),n},cloneTo=r=>(e.forEach(e=>{r.add(e.middleware,{...e})}),t.forEach(e=>{r.addRelativeTo(e.middleware,{...e})}),r.identifyOnResolve?.(s.identifyOnResolve()),r),expandRelativeMiddlewareList=e=>{let t=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...expandRelativeMiddlewareList(e))}),t.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...expandRelativeMiddlewareList(e))}),t},getMiddlewareList=(r=!1)=>{let n=[],i=[],o={};e.forEach(e=>{let t={...e,before:[],after:[]};for(let e of getAllAliases(t.name,t.aliases))o[e]=t;n.push(t)}),t.forEach(e=>{let t={...e,before:[],after:[]};for(let e of getAllAliases(t.name,t.aliases))o[e]=t;i.push(t)}),i.forEach(e=>{if(e.toMiddleware){let t=o[e.toMiddleware];if(void 0===t){if(r)return;throw Error(`${e.toMiddleware} is not found when adding ${getMiddlewareNameWithAliases(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}});let s=sort(n).map(expandRelativeMiddlewareList).reduce((e,t)=>(e.push(...t),e),[]);return s},s={add:(t,r={})=>{let{name:n,override:i,aliases:s}=r,a={step:"initialize",priority:"normal",middleware:t,...r},l=getAllAliases(n,s);if(l.length>0){if(l.some(e=>o.has(e))){if(!i)throw Error(`Duplicate middleware name '${getMiddlewareNameWithAliases(n,s)}'`);for(let t of l){let r=e.findIndex(e=>e.name===t||e.aliases?.some(e=>e===t));if(-1===r)continue;let i=e[r];if(i.step!==a.step||a.priority!==i.priority)throw Error(`"${getMiddlewareNameWithAliases(i.name,i.aliases)}" middleware with ${i.priority} priority in ${i.step} step cannot be overridden by "${getMiddlewareNameWithAliases(n,s)}" middleware with ${a.priority} priority in ${a.step} step.`);e.splice(r,1)}}for(let e of l)o.add(e)}e.push(a)},addRelativeTo:(e,r)=>{let{name:n,override:i,aliases:s}=r,a={middleware:e,...r},l=getAllAliases(n,s);if(l.length>0){if(l.some(e=>o.has(e))){if(!i)throw Error(`Duplicate middleware name '${getMiddlewareNameWithAliases(n,s)}'`);for(let e of l){let r=t.findIndex(t=>t.name===e||t.aliases?.some(t=>t===e));if(-1===r)continue;let i=t[r];if(i.toMiddleware!==a.toMiddleware||i.relation!==a.relation)throw Error(`"${getMiddlewareNameWithAliases(i.name,i.aliases)}" middleware ${i.relation} "${i.toMiddleware}" middleware cannot be overridden by "${getMiddlewareNameWithAliases(n,s)}" middleware ${a.relation} "${a.toMiddleware}" middleware.`);t.splice(r,1)}}for(let e of l)o.add(e)}t.push(a)},clone:()=>cloneTo(constructStack()),use:e=>{e.applyToStack(s)},remove:e=>"string"==typeof e?removeByName(e):removeByReference(e),removeByTag:r=>{let n=!1,filterCb=e=>{let{tags:t,name:i,aliases:s}=e;if(t&&t.includes(r)){let e=getAllAliases(i,s);for(let t of e)o.delete(t);return n=!0,!1}return!0};return e=e.filter(filterCb),t=t.filter(filterCb),n},concat:e=>{let t=cloneTo(constructStack());return t.use(e),t.identifyOnResolve(r||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:cloneTo,identify:()=>getMiddlewareList(!0).map(e=>{let t=e.step??e.relation+" "+e.toMiddleware;return getMiddlewareNameWithAliases(e.name,e.aliases)+" - "+t}),identifyOnResolve:e=>("boolean"==typeof e&&(r=e),r),resolve:(e,t)=>{for(let r of getMiddlewareList().map(e=>e.middleware).reverse())e=r(e,t);return r&&console.log(s.identify()),e}};return s},n={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},i={high:3,normal:2,low:1};let Client=class Client{constructor(e){this.middlewareStack=constructStack(),this.config=e}send(e,t,r){let n="function"==typeof t?t:r,i=e.resolveMiddleware(this.middlewareStack,this.config,"function"!=typeof t?t:void 0);if(!n)return i(e).then(e=>e.output);i(e).then(e=>n(null,e.output),e=>n(e)).catch(()=>{})}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var o=r(4585),s=r(1586);function transformToString(e,t="utf-8"){return"base64"===t?(0,o.s)(e):(0,s.GZ)(e)}function transformFromString(e,t){return"base64"===t?Uint8ArrayBlobAdapter.mutate((0,o.G)(e)):Uint8ArrayBlobAdapter.mutate((0,s.$x)(e))}let Uint8ArrayBlobAdapter=class Uint8ArrayBlobAdapter extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return transformFromString(e,t);throw Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,Uint8ArrayBlobAdapter.prototype),e}transformToString(e="utf-8"){return transformToString(this,e)}};r(2781),r(7734),r(1128),r(3837);let collectBody=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Uint8ArrayBlobAdapter.mutate(e);if(!e)return Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Uint8ArrayBlobAdapter.mutate(await r)};let Command=class Command{constructor(){this.middlewareStack=constructStack()}};let a="***SensitiveInformation***",createAggregatedClient=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],methodImpl=async function(e,t,r){let i=new n(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw Error(`Expected http options but got ${typeof t}`);this.send(i,t||{},r)}},i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=methodImpl}},expectBoolean=e=>{if(null!=e){if("number"==typeof e){if((0===e||1===e)&&c.warn(stackTraceWarning(`Expected boolean, got ${typeof e}: ${e}`)),0===e)return!1;if(1===e)return!0}if("string"==typeof e){let t=e.toLowerCase();if(("false"===t||"true"===t)&&c.warn(stackTraceWarning(`Expected boolean, got ${typeof e}: ${e}`)),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},expectNumber=e=>{if(null!=e){if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&c.warn(stackTraceWarning(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw TypeError(`Expected number, got ${typeof e}: ${e}`)}},l=Math.ceil(17014118346046923e22*(2-11920928955078125e-23)),expectFloat32=e=>{let t=expectNumber(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>l)throw TypeError(`Expected 32-bit float, got ${e}`);return t},expectLong=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw TypeError(`Expected integer, got ${typeof e}: ${e}`)}},expectInt32=e=>expectSizedInt(e,32),expectShort=e=>expectSizedInt(e,16),expectByte=e=>expectSizedInt(e,8),expectSizedInt=(e,t)=>{let r=expectLong(e);if(void 0!==r&&castInt(r,t)!==r)throw TypeError(`Expected ${t}-bit integer, got ${e}`);return r},castInt=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},expectNonNull=(e,t)=>{if(null==e){if(t)throw TypeError(`Expected a non-null value for ${t}`);throw TypeError("Expected a non-null value")}return e},expectObject=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw TypeError(`Expected object, got ${t}: ${e}`)},expectString=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return c.warn(stackTraceWarning(`Expected string, got ${typeof e}: ${e}`)),String(e);throw TypeError(`Expected string, got ${typeof e}: ${e}`)}},expectUnion=e=>{if(null==e)return;let t=expectObject(e),r=Object.entries(t).filter(([,e])=>null!=e).map(([e])=>e);if(0===r.length)throw TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},strictParseFloat32=e=>"string"==typeof e?expectFloat32(parseNumber(e)):expectFloat32(e),d=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,parseNumber=e=>{let t=e.match(d);if(null===t||t[0].length!==e.length)throw TypeError("Expected real number, got implicit NaN");return parseFloat(e)},limitedParseDouble=e=>"string"==typeof e?parseFloatString(e):expectNumber(e),parseFloatString=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw Error(`Unable to parse float value: ${e}`)}},strictParseInt32=e=>"string"==typeof e?expectInt32(parseNumber(e)):expectInt32(e),parse_utils_strictParseShort=e=>"string"==typeof e?expectShort(parseNumber(e)):expectShort(e),strictParseByte=e=>"string"==typeof e?expectByte(parseNumber(e)):expectByte(e),stackTraceWarning=e=>String(TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),c={warn:console.warn},u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),parseRfc3339DateTimeWithOffset=e=>{if(null==e)return;if("string"!=typeof e)throw TypeError("RFC-3339 date-times must be expressed as strings");let t=p.exec(e);if(!t)throw TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,l,d,c]=t,u=parse_utils_strictParseShort(stripLeadingZeroes(n)),f=parseDateValue(i,"month",1,12),h=parseDateValue(o,"day",1,31),m=buildDate(u,f,h,{hours:s,minutes:a,seconds:l,fractionalMilliseconds:d});return"Z"!=c.toUpperCase()&&m.setTime(m.getTime()-parseOffsetToMilliseconds(c)),m},buildDate=(e,t,r,n)=>{let i=t-1;return validateDayOfMonth(e,i,r),new Date(Date.UTC(e,i,r,parseDateValue(n.hours,"hour",0,23),parseDateValue(n.minutes,"minute",0,59),parseDateValue(n.seconds,"seconds",0,60),parseMilliseconds(n.fractionalMilliseconds)))},f=[31,28,31,30,31,30,31,31,30,31,30,31],validateDayOfMonth=(e,t,r)=>{let n=f[t];if(1===t&&isLeapYear(e)&&(n=29),r>n)throw TypeError(`Invalid day for ${u[t]} in ${e}: ${r}`)},isLeapYear=e=>e%4==0&&(e%100!=0||e%400==0),parseDateValue=(e,t,r,n)=>{let i=strictParseByte(stripLeadingZeroes(e));if(i<r||i>n)throw TypeError(`${t} must be between ${r} and ${n}, inclusive`);return i},parseMilliseconds=e=>null==e?0:1e3*strictParseFloat32("0."+e),parseOffsetToMilliseconds=e=>{let t=e[0],r=1;if("+"==t)r=1;else if("-"==t)r=-1;else throw TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),i=Number(e.substring(4,6));return r*(60*n+i)*6e4},stripLeadingZeroes=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)};let ServiceException=class ServiceException extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,ServiceException.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}};let decorateServiceException=(e,t={})=>{Object.entries(t).filter(([,e])=>void 0!==e).forEach(([t,r])=>{(void 0==e[t]||""===e[t])&&(e[t]=r)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},throwDefaultError=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let i=deserializeMetadata(e),o=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new r({name:t?.code||t?.Code||n||o||"UnknownError",$fault:"client",$metadata:i});throw decorateServiceException(s,t)},withBaseException=e=>({output:t,parsedBody:r,errorCode:n})=>{throwDefaultError({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},deserializeMetadata=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),loadConfigsForDefaultMode=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},h=!1,emitWarningIfUnsupportedVersion=e=>{e&&!h&&14>parseInt(e.substring(1,e.indexOf(".")))&&(h=!0)};var m=r(3610);let getChecksumConfiguration=e=>{let t=[];for(let r in m.f3){let n=m.f3[r];void 0!==e[n]&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(e){this._checksumAlgorithms.push(e)},checksumAlgorithms(){return this._checksumAlgorithms}}},resolveChecksumRuntimeConfig=e=>{let t={};return e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t},getRetryConfiguration=e=>{let t=e.retryStrategy;return{setRetryStrategy(e){t=e},retryStrategy:()=>t}},resolveRetryRuntimeConfig=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},getDefaultExtensionConfiguration=e=>({...getChecksumConfiguration(e),...getRetryConfiguration(e)}),resolveDefaultRuntimeConfig=e=>({...resolveChecksumRuntimeConfig(e),...resolveRetryRuntimeConfig(e)});function extendedEncodeURIComponent(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}let getValueFromTextNode=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&void 0!==e[r][t]?e[r]=e[r][t]:"object"==typeof e[r]&&null!==e[r]&&(e[r]=getValueFromTextNode(e[r]));return e},StringWrapper=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};function map(e,t,r){let n,i;if(void 0===t&&void 0===r)n={},i=e;else{if(n=e,"function"==typeof t)return mapWithFilter(n,t,i=r);i=t}for(let e of Object.keys(i)){if(!Array.isArray(i[e])){n[e]=i[e];continue}applyInstruction(n,null,i,e)}return n}StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:StringWrapper,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(StringWrapper,String);let take=(e,t)=>{let r={};for(let n in t)applyInstruction(r,e,t,n);return r},mapWithFilter=(e,t,r)=>map(e,Object.entries(r).reduce((e,[r,n])=>(Array.isArray(n)?e[r]=n:"function"==typeof n?e[r]=[t,n()]:e[r]=[t,n],e),{})),applyInstruction=(e,t,r,n)=>{if(null!==t){let i=r[n];"function"==typeof i&&(i=[,i]);let[o=nonNullish,s=pass,a=n]=i;("function"==typeof o&&o(t[a])||"function"!=typeof o&&o)&&(e[n]=s(t[a]));return}let[i,o]=r[n];if("function"==typeof o){let t;let r=void 0===i&&null!=(t=o()),s="function"==typeof i&&!!i(void 0)||"function"!=typeof i&&!!i;r?e[n]=t:s&&(e[n]=o())}else{let t=void 0===i&&null!=o,r="function"==typeof i&&!!i(o)||"function"!=typeof i&&!!i;(t||r)&&(e[n]=o)}},nonNullish=e=>null!=e,pass=e=>e,_json=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter(e=>null!=e);if("object"==typeof e){let t={};for(let r of Object.keys(e))null!=e[r]&&(t[r]=_json(e[r]));return t}return e}},3610:(e,t,r)=>{"use strict";var n,i,o,s,a,l;r.d(t,{f3:()=>o,cj:()=>i,I:()=>a,zK:()=>d}),function(e){e.HEADER="header",e.QUERY="query"}(n||(n={})),function(e){e.HTTP="http",e.HTTPS="https"}(i||(i={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(o||(o={})),function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(s||(s={}));let d="__smithy_context";(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(a||(a={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(l||(l={}))},2944:(e,t,r)=>{"use strict";function parseQueryString(e){let t={};if(e=e.replace(/^\?/,""))for(let r of e.split("&")){let[e,n=null]=r.split("=");e=decodeURIComponent(e),n&&(n=decodeURIComponent(n)),e in t?Array.isArray(t[e])?t[e].push(n):t[e]=[t[e],n]:t[e]=n}return t}r.d(t,{e:()=>parseUrl});let parseUrl=e=>{let t;if("string"==typeof e)return parseUrl(new URL(e));let{hostname:r,pathname:n,port:i,protocol:o,search:s}=e;return s&&(t=parseQueryString(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:o,path:n,query:t}}},4585:(e,t,r)=>{"use strict";r.d(t,{G:()=>fromBase64,s:()=>toBase64});var n=r(1128);let i=/^[A-Za-z0-9+/]*={0,2}$/,fromBase64=e=>{if(3*e.length%4!=0)throw TypeError("Incorrect padding on base64 string.");if(!i.exec(e))throw TypeError("Invalid base64 string.");let t=(0,n.m)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},toBase64=e=>(0,n.g)(e.buffer,e.byteOffset,e.byteLength).toString("base64")},1128:(e,t,r)=>{"use strict";r.d(t,{g:()=>fromArrayBuffer,m:()=>fromString});var n=r(4527),i=r(4300);let fromArrayBuffer=(e,t=0,r=e.byteLength-t)=>{if(!(0,n.e)(e))throw TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return i.Buffer.from(e,t,r)},fromString=(e,t)=>{if("string"!=typeof e)throw TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?i.Buffer.from(e,t):i.Buffer.from(e)}},8259:(e,t,r)=>{"use strict";r.d(t,{$:()=>normalizeProvider}),r(3610);let normalizeProvider=e=>{if("function"==typeof e)return e;let t=Promise.resolve(e);return()=>t}},543:(e,t,r)=>{"use strict";r.d(t,{i:()=>escapeUri});let escapeUri=e=>encodeURIComponent(e).replace(/[!'()*]/g,hexEncode),hexEncode=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`},1586:(e,t,r)=>{"use strict";r.d(t,{$x:()=>fromUtf8,_f:()=>toUint8Array,GZ:()=>toUtf8});var n=r(1128);let fromUtf8=e=>{let t=(0,n.m)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},toUint8Array=e=>"string"==typeof e?fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),toUtf8=e=>(0,n.g)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},703:(e,t,r)=>{"use strict";let n=r(2779),i=r(1458),o=r(9613);e.exports={XMLParser:i,XMLValidator:n,XMLBuilder:o}},8629:(e,t)=>{"use strict";let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=RegExp("^"+n+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,r){if(t){let n=Object.keys(t),i=n.length;for(let o=0;o<i;o++)"strict"===r?e[n[o]]=[t[n[o]]]:e[n[o]]=t[n[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){let t=i.exec(e);return null!=t},t.getAllMatches=function(e,t){let r=[],n=t.exec(e);for(;n;){let i=[];i.startIndex=t.lastIndex-n[0].length;let o=n.length;for(let e=0;e<o;e++)i.push(n[e]);r.push(i),n=t.exec(e)}return r},t.nameRegexp=n},2779:(e,t,r)=>{"use strict";let n=r(8629),i={allowBooleanAttributes:!1,unpairedTags:[]};function isWhiteSpace(e){return" "===e||"	"===e||"\n"===e||"\r"===e}function readPI(e,t){let r=t;for(;t<e.length;t++)if("?"==e[t]||" "==e[t]){let n=e.substr(r,t-r);if(t>5&&"xml"===n)return getErrorObject("InvalidXml","XML declaration allowed only at the start of the document.",getLineNumberForPosition(e,t));if("?"!=e[t]||">"!=e[t+1])continue;t++;break}return t}function readCommentAndCDATA(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&0==--r)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7]){for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}}return t}function readAttributeStr(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===n?n=e[t]:n!==e[t]||(n="");else if(">"===e[t]&&""===n){i=!0;break}r+=e[t]}return""===n&&{value:r,index:t,tagClosed:i}}t.validate=function(e,t){t=Object.assign({},i,t);let r=[],n=!1,o=!1;"\uFEFF"===e[0]&&(e=e.substr(1));for(let i=0;i<e.length;i++)if("<"===e[i]&&"?"===e[i+1]){if(i+=2,(i=readPI(e,i)).err)return i}else if("<"===e[i]){let s=i;if("!"===e[++i]){i=readCommentAndCDATA(e,i);continue}{let a=!1;"/"===e[i]&&(a=!0,i++);let l="";for(;i<e.length&&">"!==e[i]&&" "!==e[i]&&"	"!==e[i]&&"\n"!==e[i]&&"\r"!==e[i];i++)l+=e[i];if("/"===(l=l.trim())[l.length-1]&&(l=l.substring(0,l.length-1),i--),!validateTagName(l))return getErrorObject("InvalidTag",0===l.trim().length?"Invalid space after '<'.":"Tag '"+l+"' is an invalid name.",getLineNumberForPosition(e,i));let d=readAttributeStr(e,i);if(!1===d)return getErrorObject("InvalidAttr","Attributes for '"+l+"' have open quote.",getLineNumberForPosition(e,i));let c=d.value;if(i=d.index,"/"===c[c.length-1]){let r=i-c.length;c=c.substring(0,c.length-1);let o=validateAttributeString(c,t);if(!0!==o)return getErrorObject(o.err.code,o.err.msg,getLineNumberForPosition(e,r+o.err.line));n=!0}else if(a){if(!d.tagClosed)return getErrorObject("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",getLineNumberForPosition(e,i));if(c.trim().length>0)return getErrorObject("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",getLineNumberForPosition(e,s));{let t=r.pop();if(l!==t.tagName){let r=getLineNumberForPosition(e,t.tagStartPos);return getErrorObject("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+l+"'.",getLineNumberForPosition(e,s))}0==r.length&&(o=!0)}}else{let a=validateAttributeString(c,t);if(!0!==a)return getErrorObject(a.err.code,a.err.msg,getLineNumberForPosition(e,i-c.length+a.err.line));if(!0===o)return getErrorObject("InvalidXml","Multiple possible root nodes found.",getLineNumberForPosition(e,i));-1!==t.unpairedTags.indexOf(l)||r.push({tagName:l,tagStartPos:s}),n=!0}for(i++;i<e.length;i++)if("<"===e[i]){if("!"===e[i+1]){i=readCommentAndCDATA(e,++i);continue}if("?"===e[i+1]){if((i=readPI(e,++i)).err)return i}else break}else if("&"===e[i]){let t=validateAmpersand(e,i);if(-1==t)return getErrorObject("InvalidChar","char '&' is not expected.",getLineNumberForPosition(e,i));i=t}else if(!0===o&&!isWhiteSpace(e[i]))return getErrorObject("InvalidXml","Extra text at the end",getLineNumberForPosition(e,i));"<"===e[i]&&i--}}else{if(isWhiteSpace(e[i]))continue;return getErrorObject("InvalidChar","char '"+e[i]+"' is not expected.",getLineNumberForPosition(e,i))}return n?1==r.length?getErrorObject("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",getLineNumberForPosition(e,r[0].tagStartPos)):!(r.length>0)||getErrorObject("InvalidXml","Invalid '"+JSON.stringify(r.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):getErrorObject("InvalidXml","Start tag expected.",1)};let o=RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function validateAttributeString(e,t){let r=n.getAllMatches(e,o),i={};for(let e=0;e<r.length;e++){if(0===r[e][1].length)return getErrorObject("InvalidAttr","Attribute '"+r[e][2]+"' has no space in starting.",getPositionFromMatch(r[e]));if(void 0!==r[e][3]&&void 0===r[e][4])return getErrorObject("InvalidAttr","Attribute '"+r[e][2]+"' is without value.",getPositionFromMatch(r[e]));if(void 0===r[e][3]&&!t.allowBooleanAttributes)return getErrorObject("InvalidAttr","boolean attribute '"+r[e][2]+"' is not allowed.",getPositionFromMatch(r[e]));let n=r[e][2];if(!validateAttrName(n))return getErrorObject("InvalidAttr","Attribute '"+n+"' is an invalid name.",getPositionFromMatch(r[e]));if(i.hasOwnProperty(n))return getErrorObject("InvalidAttr","Attribute '"+n+"' is repeated.",getPositionFromMatch(r[e]));i[n]=1}return!0}function validateNumberAmpersand(e,t){let r=/\d/;for("x"===e[t]&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(r))break}return -1}function validateAmpersand(e,t){if(";"===e[++t])return -1;if("#"===e[t])return validateNumberAmpersand(e,++t);let r=0;for(;t<e.length;t++,r++)if(!e[t].match(/\w/)||!(r<20)){if(";"===e[t])break;return -1}return t}function getErrorObject(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function validateAttrName(e){return n.isName(e)}function validateTagName(e){return n.isName(e)}function getLineNumberForPosition(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function getPositionFromMatch(e){return e.startIndex+e[1].length}},9613:(e,t,r)=>{"use strict";let n=r(2125),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:RegExp("&","g"),val:"&amp;"},{regex:RegExp(">","g"),val:"&gt;"},{regex:RegExp("<","g"),val:"&lt;"},{regex:RegExp("'","g"),val:"&apos;"},{regex:RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Builder(e){this.options=Object.assign({},i,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=isAttribute),this.processTextOrObjNode=processTextOrObjNode,this.options.format?(this.indentate=indentate,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function processTextOrObjNode(e,t,r){let n=this.j2x(e,r+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}function indentate(e){return this.options.indentBy.repeat(e)}function isAttribute(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}Builder.prototype.build=function(e){return this.options.preserveOrder?n(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},Builder.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(void 0===e[i]);else if(null===e[i])"?"===i[0]?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextValNode(e[i],i,"",t);else if("object"!=typeof e[i]){let o=this.isAttribute(i);if(o)r+=this.buildAttrPairStr(o,""+e[i]);else if(i===this.options.textNodeName){let t=this.options.tagValueProcessor(i,""+e[i]);n+=this.replaceEntitiesValue(t)}else n+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){let r=e[i].length,o="";for(let s=0;s<r;s++){let r=e[i][s];void 0===r||(null===r?"?"===i[0]?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"==typeof r?this.options.oneListGroup?o+=this.j2x(r,t+1).val:o+=this.processTextOrObjNode(r,i,t):o+=this.buildTextValNode(r,i,"",t))}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,"",t)),n+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let t=Object.keys(e[i]),n=t.length;for(let o=0;o<n;o++)r+=this.buildAttrPairStr(t[o],""+e[i][t[o]])}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}},Builder.prototype.buildAttrPairStr=function(e,t){return(t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t)?" "+e:" "+e+'="'+t+'"'},Builder.prototype.buildObjectNode=function(e,t,r,n){if(""===e)return"?"===t[0]?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,o="";return("?"===t[0]&&(o="?",i=""),r&&-1===e.indexOf("<"))?this.indentate(n)+"<"+t+r+o+">"+e+i:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===o.length?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+o+this.tagEndChar+e+this.indentate(n)+i}},Builder.prototype.closeTag=function(e){let t="";return -1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},Builder.prototype.buildTextValNode=function(e,t,r,n){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if("?"===t[0])return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return""===(i=this.replaceEntitiesValue(i))?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}},Builder.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e},e.exports=Builder},2125:e=>{"use strict";function toXml(e,t){let r="";return t.format&&t.indentBy.length>0&&(r="\n"),arrToStr(e,t,"",r)}function arrToStr(e,t,r,n){let i="",o=!1;for(let s=0;s<e.length;s++){let a=e[s],l=propName(a),d="";if(d=0===r.length?l:`${r}.${l}`,l===t.textNodeName){let e=a[l];isStopNode(d,t)||(e=replaceEntitiesValue(e=t.tagValueProcessor(l,e),t)),o&&(i+=n),i+=e,o=!1;continue}if(l===t.cdataPropName){o&&(i+=n),i+=`<![CDATA[${a[l][0][t.textNodeName]}]]>`,o=!1;continue}if(l===t.commentPropName){i+=n+`<!--${a[l][0][t.textNodeName]}-->`,o=!0;continue}if("?"===l[0]){let e=attr_to_str(a[":@"],t),r="?xml"===l?"":n,s=a[l][0][t.textNodeName];s=0!==s.length?" "+s:"",i+=r+`<${l}${s}${e}?>`,o=!0;continue}let c=n;""!==c&&(c+=t.indentBy);let u=attr_to_str(a[":@"],t),p=n+`<${l}${u}`,f=arrToStr(a[l],t,d,c);-1!==t.unpairedTags.indexOf(l)?t.suppressUnpairedNode?i+=p+">":i+=p+"/>":(!f||0===f.length)&&t.suppressEmptyNode?i+=p+"/>":f&&f.endsWith(">")?i+=p+`>${f}${n}</${l}>`:(i+=p+">",f&&""!==n&&(f.includes("/>")||f.includes("</"))?i+=n+t.indentBy+f+n:i+=f,i+=`</${l}>`),o=!0}return i}function propName(e){let t=Object.keys(e);for(let e=0;e<t.length;e++){let r=t[e];if(":@"!==r)return r}}function attr_to_str(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let i=t.attributeValueProcessor(n,e[n]);!0===(i=replaceEntitiesValue(i,t))&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function isStopNode(e,t){let r=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function replaceEntitiesValue(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}e.exports=toXml},9900:(e,t,r)=>{"use strict";let n=r(8629);function readDocType(e,t){let r={};if("O"===e[t+3]&&"C"===e[t+4]&&"T"===e[t+5]&&"Y"===e[t+6]&&"P"===e[t+7]&&"E"===e[t+8]){t+=9;let n=1,i=!1,o=!1;for(;t<e.length;t++)if("<"!==e[t]||o){if(">"===e[t]){if(o?"-"===e[t-1]&&"-"===e[t-2]&&(o=!1,n--):n--,0===n)break}else"["===e[t]?i=!0:e[t]}else{if(i&&isEntity(e,t))t+=7,[entityName,val,t]=readEntityExp(e,t+1),-1===val.indexOf("&")&&(r[validateEntityName(entityName)]={regx:RegExp(`&${entityName};`,"g"),val:val});else if(i&&isElement(e,t))t+=8;else if(i&&isAttlist(e,t))t+=8;else if(i&&isNotation(e,t))t+=9;else if(isComment)o=!0;else throw Error("Invalid DOCTYPE");n++}if(0!==n)throw Error("Unclosed DOCTYPE")}else throw Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function readEntityExp(e,t){let r="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)r+=e[t];if(-1!==(r=r.trim()).indexOf(" "))throw Error("External entites are not supported");let n=e[t++],i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function isComment(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function isEntity(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function isElement(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function isAttlist(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function isNotation(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function validateEntityName(e){if(n.isName(e))return e;throw Error(`Invalid entity name ${e}`)}e.exports=readDocType},923:(e,t)=>{let r={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}};t.buildOptions=function(e){return Object.assign({},r,e)},t.defaultOptions=r},5748:(e,t,r)=>{"use strict";let n=r(8629),i=r(4885),o=r(9900),s=r(8056);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,n.nameRegexp);let OrderedObjParser=class OrderedObjParser{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:""}},this.addExternalEntities=addExternalEntities,this.parseXml=parseXml,this.parseTextData=parseTextData,this.resolveNameSpace=resolveNameSpace,this.buildAttributesMap=buildAttributesMap,this.isItStopNode=isItStopNode,this.replaceEntitiesValue=replaceEntitiesValue,this.readStopNodeData=readStopNodeData,this.saveTextToParentTag=saveTextToParentTag,this.addChild=addChild}};function addExternalEntities(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:RegExp("&"+n+";","g"),val:e[n]}}}function parseTextData(e,t,r,n,i,o,s){if(void 0!==e&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){s||(e=this.replaceEntitiesValue(e));let n=this.options.tagValueProcessor(t,e,r,i,o);if(null==n)return e;if(typeof n!=typeof e||n!==e)return n;{if(this.options.trimValues)return parseValue(e,this.options.parseTagValue,this.options.numberParseOptions);let t=e.trim();return t===e?parseValue(e,this.options.parseTagValue,this.options.numberParseOptions):e}}}function resolveNameSpace(e){if(this.options.removeNSPrefix){let t=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=r+t[1])}return e}let a=RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function buildAttributesMap(e,t,r){if(!this.options.ignoreAttributes&&"string"==typeof e){let r=n.getAllMatches(e,a),i=r.length,o={};for(let e=0;e<i;e++){let n=this.resolveNameSpace(r[e][1]),i=r[e][4],s=this.options.attributeNamePrefix+n;if(n.length){if(this.options.transformAttributeName&&(s=this.options.transformAttributeName(s)),"__proto__"===s&&(s="#__proto__"),void 0!==i){this.options.trimValues&&(i=i.trim()),i=this.replaceEntitiesValue(i);let e=this.options.attributeValueProcessor(n,i,t);null==e?o[s]=i:typeof e!=typeof i||e!==i?o[s]=e:o[s]=parseValue(i,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[s]=!0)}}if(Object.keys(o).length){if(this.options.attributesGroupName){let e={};return e[this.options.attributesGroupName]=o,e}return o}}}let parseXml=function(e){e=e.replace(/\r\n?/g,"\n");let t=new i("!xml"),r=t,n="",s="";for(let a=0;a<e.length;a++){let l=e[a];if("<"===l){if("/"===e[a+1]){let t=findClosingIndex(e,">",a,"Closing Tag is not closed."),i=e.substring(a+2,t).trim();if(this.options.removeNSPrefix){let e=i.indexOf(":");-1!==e&&(i=i.substr(e+1))}this.options.transformTagName&&(i=this.options.transformTagName(i)),r&&(n=this.saveTextToParentTag(n,r,s));let o=s.substring(s.lastIndexOf(".")+1);if(i&&-1!==this.options.unpairedTags.indexOf(i))throw Error(`Unpaired tag can not be used as closing tag: </${i}>`);let l=0;o&&-1!==this.options.unpairedTags.indexOf(o)?(l=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=s.lastIndexOf("."),s=s.substring(0,l),r=this.tagsNodeStack.pop(),n="",a=t}else if("?"===e[a+1]){let t=readTagExp(e,a,!1,"?>");if(!t)throw Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{let e=new i(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,s,t.tagName)),this.addChild(r,e,s)}a=t.closeIndex+1}else if("!--"===e.substr(a+1,3)){let t=findClosingIndex(e,"-->",a+4,"Comment is not closed.");if(this.options.commentPropName){let i=e.substring(a+4,t-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:i}])}a=t}else if("!D"===e.substr(a+1,2)){let t=o(e,a);this.docTypeEntities=t.entities,a=t.i}else if("!["===e.substr(a+1,2)){let t=findClosingIndex(e,"]]>",a,"CDATA is not closed.")-2,i=e.substring(a+9,t);if(n=this.saveTextToParentTag(n,r,s),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:i}]);else{let e=this.parseTextData(i,r.tagname,s,!0,!1,!0);void 0==e&&(e=""),r.add(this.options.textNodeName,e)}a=t+2}else{let o=readTagExp(e,a,this.options.removeNSPrefix),l=o.tagName,d=o.tagExp,c=o.attrExpPresent,u=o.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&n&&"!xml"!==r.tagname&&(n=this.saveTextToParentTag(n,r,s,!1));let p=r;if(p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),l!==t.tagname&&(s+=s?"."+l:l),this.isItStopNode(this.options.stopNodes,s,l)){let t="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)a=o.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(l))a=o.closeIndex;else{let r=this.readStopNodeData(e,l,u+1);if(!r)throw Error(`Unexpected end of ${l}`);a=r.i,t=r.tagContent}let n=new i(l);l!==d&&c&&(n[":@"]=this.buildAttributesMap(d,s,l)),t&&(t=this.parseTextData(t,l,s,!0,c,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),n.add(this.options.textNodeName,t),this.addChild(r,n,s)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){d="/"===l[l.length-1]?l=l.substr(0,l.length-1):d.substr(0,d.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));let e=new i(l);l!==d&&c&&(e[":@"]=this.buildAttributesMap(d,s,l)),this.addChild(r,e,s),s=s.substr(0,s.lastIndexOf("."))}else{let e=new i(l);this.tagsNodeStack.push(r),l!==d&&c&&(e[":@"]=this.buildAttributesMap(d,s,l)),this.addChild(r,e,s),r=e}n="",a=u}}}else n+=e[a]}return t.child};function addChild(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);!1===n||("string"==typeof n&&(t.tagname=n),e.addChild(t))}let replaceEntitiesValue=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function saveTextToParentTag(e,t,r,n){return e&&(void 0===n&&(n=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,r,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,n))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function isItStopNode(e,t,r){let n="*."+r;for(let r in e){let i=e[r];if(n===i||t===i)return!0}return!1}function tagExpWithClosingIndex(e,t,r=">"){let n;let i="";for(let o=t;o<e.length;o++){let t=e[o];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else if(t===r[0]){if(!r[1]||e[o+1]===r[1])return{data:i,index:o}}else"	"===t&&(t=" ");i+=t}}function findClosingIndex(e,t,r,n){let i=e.indexOf(t,r);if(-1!==i)return i+t.length-1;throw Error(n)}function readTagExp(e,t,r,n=">"){let i=tagExpWithClosingIndex(e,t+1,n);if(!i)return;let o=i.data,s=i.index,a=o.search(/\s/),l=o,d=!0;if(-1!==a&&(l=o.substr(0,a).replace(/\s\s*$/,""),o=o.substr(a+1)),r){let e=l.indexOf(":");-1!==e&&(d=(l=l.substr(e+1))!==i.data.substr(e+1))}return{tagName:l,tagExp:o,closeIndex:s,attrExpPresent:d}}function readStopNodeData(e,t,r){let n=r,i=1;for(;r<e.length;r++)if("<"===e[r]){if("/"===e[r+1]){let o=findClosingIndex(e,">",r,`${t} is not closed`);if(e.substring(r+2,o).trim()===t&&0==--i)return{tagContent:e.substring(n,r),i:o};r=o}else if("?"===e[r+1]){let t=findClosingIndex(e,"?>",r+1,"StopNode is not closed.");r=t}else if("!--"===e.substr(r+1,3)){let t=findClosingIndex(e,"-->",r+3,"StopNode is not closed.");r=t}else if("!["===e.substr(r+1,2)){let t=findClosingIndex(e,"]]>",r,"StopNode is not closed.")-2;r=t}else{let n=readTagExp(e,r,">");if(n){let e=n&&n.tagName;e===t&&"/"!==n.tagExp[n.tagExp.length-1]&&i++,r=n.closeIndex}}}}function parseValue(e,t,r){if(t&&"string"==typeof e){let t=e.trim();return"true"===t||"false"!==t&&s(e,r)}return n.isExist(e)?e:""}e.exports=OrderedObjParser},1458:(e,t,r)=>{"use strict";let{buildOptions:n}=r(923),i=r(5748),{prettify:o}=r(3855),s=r(2779);let XMLParser=class XMLParser{constructor(e){this.externalEntities={},this.options=n(e)}parse(e,t){if("string"==typeof e);else if(e.toString)e=e.toString();else throw Error("XML data is accepted in String or Bytes[] form.");if(t){!0===t&&(t={});let r=s.validate(e,t);if(!0!==r)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}let r=new i(this.options);r.addExternalEntities(this.externalEntities);let n=r.parseXml(e);return this.options.preserveOrder||void 0===n?n:o(n,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}};e.exports=XMLParser},3855:(e,t)=>{"use strict";function prettify(e,t){return compress(e,t)}function compress(e,t,r){let n;let i={};for(let o=0;o<e.length;o++){let s=e[o],a=propName(s),l="";if(l=void 0===r?a:r+"."+a,a===t.textNodeName)void 0===n?n=s[a]:n+=""+s[a];else if(void 0===a)continue;else if(s[a]){let e=compress(s[a],t,l),r=isLeafTag(e,t);s[":@"]?assignAttributes(e,s[":@"],l,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==i[a]&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(e)):t.isArray(a,l,r)?i[a]=[e]:i[a]=e}}return"string"==typeof n?n.length>0&&(i[t.textNodeName]=n):void 0!==n&&(i[t.textNodeName]=n),i}function propName(e){let t=Object.keys(e);for(let e=0;e<t.length;e++){let r=t[e];if(":@"!==r)return r}}function assignAttributes(e,t,r,n){if(t){let i=Object.keys(t),o=i.length;for(let s=0;s<o;s++){let o=i[s];n.isArray(o,r+"."+o,!0,!0)?e[o]=[t[o]]:e[o]=t[o]}}}function isLeafTag(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return 0===n||1===n&&(!!e[r]||"boolean"==typeof e[r]||0===e[r])}t.prettify=prettify},4885:e=>{"use strict";let XmlNode=class XmlNode{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};e.exports=XmlNode},989:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o={};function stringifyCookie(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean);return`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}; ${r.join("; ")}`}function parseCookie(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function parseSetCookie(e){if(!e)return;let[[t,r],...n]=parseCookie(e),{domain:i,expires:o,httponly:s,maxage:a,path:l,samesite:d,secure:c,priority:u}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase(),t])),p={name:t,value:decodeURIComponent(r),domain:i,...o&&{expires:new Date(o)},...s&&{httpOnly:!0},..."string"==typeof a&&{maxAge:Number(a)},path:l,...d&&{sameSite:parseSameSite(d)},...c&&{secure:!0},...u&&{priority:parsePriority(u)}};return compact(p)}function compact(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(o,{RequestCookies:()=>l,ResponseCookies:()=>d,parseCookie:()=>parseCookie,parseSetCookie:()=>parseSetCookie,stringifyCookie:()=>stringifyCookie}),e.exports=((e,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let s of n(o))i.call(e,s)||void 0===s||t(e,s,{get:()=>o[s],enumerable:!(a=r(o,s))||a.enumerable});return e})(t({},"__esModule",{value:!0}),o);var s=["strict","lax","none"];function parseSameSite(e){return e=e.toLowerCase(),s.includes(e)?e:void 0}var a=["low","medium","high"];function parsePriority(e){return e=e.toLowerCase(),a.includes(e)?e:void 0}function splitCookiesString(e){if(!e)return[];var t,r,n,i,o,s=[],a=0;function skipWhitespace(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}function notSpecialChar(){return"="!==(r=e.charAt(a))&&";"!==r&&","!==r}for(;a<e.length;){for(t=a,o=!1;skipWhitespace();)if(","===(r=e.charAt(a))){for(n=a,a+=1,skipWhitespace(),i=a;a<e.length&&notSpecialChar();)a+=1;a<e.length&&"="===e.charAt(a)?(o=!0,a=i,s.push(e.substring(t,n)),t=a):a=n+1}else a+=1;(!o||a>=e.length)&&s.push(e.substring(t,e.length))}return s}var l=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t){let e=parseCookie(t);for(let[t,r]of e)this._parsed.set(t,{name:t,value:r})}}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>stringifyCookie(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>stringifyCookie(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},d=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[],o=Array.isArray(i)?i:splitCookiesString(i);for(let e of o){let t=parseSetCookie(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,normalizeCookie({name:t,value:r,...n})),replace(i,this._headers),this}delete(...e){let[t,r,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:n,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(stringifyCookie).join("; ")}};function replace(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=stringifyCookie(r);t.append("set-cookie",e)}}function normalizeCookie(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}},884:(e,t,r)=>{"use strict";e.exports=r(517)},5798:(e,t,r)=>{"use strict";Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return n.NextResponse}});let n=r(3172)},6863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return NextURL}});let n=r(5331),i=r(9387),o=r(3490),s=r(470),a=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function parseURL(e,t){return new URL(String(e).replace(a,"localhost"),t&&String(t).replace(a,"localhost"))}let l=Symbol("NextURLInternal");let NextURL=class NextURL{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[l]={url:parseURL(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,i,a;let d=(0,s.getNextPathnameInfo)(this[l].url.pathname,{nextConfig:this[l].options.nextConfig,parseData:!0,i18nProvider:this[l].options.i18nProvider}),c=(0,o.getHostname)(this[l].url,this[l].options.headers);this[l].domainLocale=this[l].options.i18nProvider?this[l].options.i18nProvider.detectDomainLocale(c):(0,n.detectDomainLocale)(null==(t=this[l].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,c);let u=(null==(r=this[l].domainLocale)?void 0:r.defaultLocale)||(null==(a=this[l].options.nextConfig)?void 0:null==(i=a.i18n)?void 0:i.defaultLocale);this[l].url.pathname=d.pathname,this[l].defaultLocale=u,this[l].basePath=d.basePath??"",this[l].buildId=d.buildId,this[l].locale=d.locale??u,this[l].trailingSlash=d.trailingSlash}formatPathname(){return(0,i.formatNextPathnameInfo)({basePath:this[l].basePath,buildId:this[l].buildId,defaultLocale:this[l].options.forceLocale?void 0:this[l].defaultLocale,locale:this[l].locale,pathname:this[l].url.pathname,trailingSlash:this[l].trailingSlash})}formatSearch(){return this[l].url.search}get buildId(){return this[l].buildId}set buildId(e){this[l].buildId=e}get locale(){return this[l].locale??""}set locale(e){var t,r;if(!this[l].locale||!(null==(r=this[l].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[l].locale=e}get defaultLocale(){return this[l].defaultLocale}get domainLocale(){return this[l].domainLocale}get searchParams(){return this[l].url.searchParams}get host(){return this[l].url.host}set host(e){this[l].url.host=e}get hostname(){return this[l].url.hostname}set hostname(e){this[l].url.hostname=e}get port(){return this[l].url.port}set port(e){this[l].url.port=e}get protocol(){return this[l].url.protocol}set protocol(e){this[l].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[l].url=parseURL(e),this.analyze()}get origin(){return this[l].url.origin}get pathname(){return this[l].url.pathname}set pathname(e){this[l].url.pathname=e}get hash(){return this[l].url.hash}set hash(e){this[l].url.hash=e}get search(){return this[l].url.search}set search(e){this[l].url.search=e}get password(){return this[l].url.password}set password(e){this[l].url.password=e}get username(){return this[l].url.username}set username(e){this[l].url.username=e}get basePath(){return this[l].basePath}set basePath(e){this[l].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new NextURL(String(this),this[l].options)}}},6449:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies}});let n=r(989)},3172:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return NextResponse}});let n=r(6863),i=r(6729),o=r(6449),s=Symbol("internal response"),a=new Set([301,302,303,307,308]);function handleMiddlewareField(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}let NextResponse=class NextResponse extends Response{constructor(e,t={}){super(e,t),this[s]={cookies:new o.ResponseCookies(this.headers),url:t.url?new n.NextURL(t.url,{headers:(0,i.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[s].cookies}static json(e,t){let r=Response.json(e,t);return new NextResponse(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!a.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},o=new Headers(null==n?void 0:n.headers);return o.set("Location",(0,i.validateURL)(e)),new NextResponse(null,{...n,headers:o,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,i.validateURL)(e)),handleMiddlewareField(t,r),new NextResponse(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),handleMiddlewareField(e,t),new NextResponse(null,{...e,headers:t})}}},6729:(e,t)=>{"use strict";function fromNodeOutgoingHttpHeaders(e){let t=new Headers;for(let[r,n]of Object.entries(e)){let e=Array.isArray(n)?n:[n];for(let n of e)void 0!==n&&("number"==typeof n&&(n=n.toString()),t.append(r,n))}return t}function splitCookiesString(e){var t,r,n,i,o,s=[],a=0;function skipWhitespace(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}function notSpecialChar(){return"="!==(r=e.charAt(a))&&";"!==r&&","!==r}for(;a<e.length;){for(t=a,o=!1;skipWhitespace();)if(","===(r=e.charAt(a))){for(n=a,a+=1,skipWhitespace(),i=a;a<e.length&&notSpecialChar();)a+=1;a<e.length&&"="===e.charAt(a)?(o=!0,a=i,s.push(e.substring(t,n)),t=a):a=n+1}else a+=1;(!o||a>=e.length)&&s.push(e.substring(t,e.length))}return s}function toNodeOutgoingHttpHeaders(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...splitCookiesString(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function validateURL(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return fromNodeOutgoingHttpHeaders},splitCookiesString:function(){return splitCookiesString},toNodeOutgoingHttpHeaders:function(){return toNodeOutgoingHttpHeaders},validateURL:function(){return validateURL}})},3490:(e,t)=>{"use strict";function getHostname(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return getHostname}})},5331:(e,t)=>{"use strict";function detectDomainLocale(e,t,r){if(e)for(let o of(r&&(r=r.toLowerCase()),e)){var n,i;let e=null==(n=o.domain)?void 0:n.split(":",1)[0].toLowerCase();if(t===e||r===o.defaultLocale.toLowerCase()||(null==(i=o.locales)?void 0:i.some(e=>e.toLowerCase()===r)))return o}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return detectDomainLocale}})},5477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return addLocale}});let n=r(2721),i=r(9203);function addLocale(e,t,r,o){if(!t||t===r)return e;let s=e.toLowerCase();return!o&&((0,i.pathHasPrefix)(s,"/api")||(0,i.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},2721:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return addPathPrefix}});let n=r(1193);function addPathPrefix(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:o}=(0,n.parsePath)(e);return""+t+r+i+o}},9428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return addPathSuffix}});let n=r(1193);function addPathSuffix(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:o}=(0,n.parsePath)(e);return""+r+t+i+o}},9387:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return formatNextPathnameInfo}});let n=r(4419),i=r(2721),o=r(9428),s=r(5477);function formatNextPathnameInfo(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,o.addPathSuffix)((0,i.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,o.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return getNextPathnameInfo}});let n=r(5259),i=r(8200),o=r(9203);function getNextPathnameInfo(e,t){var r,s;let{basePath:a,i18n:l,trailingSlash:d}=null!=(r=t.nextConfig)?r:{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):d};a&&(0,o.pathHasPrefix)(c.pathname,a)&&(c.pathname=(0,i.removePathPrefix)(c.pathname,a),c.basePath=a);let u=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];c.buildId=r,u="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(c.pathname=u)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,n.normalizeLocalePath)(c.pathname,l.locales);c.locale=e.detectedLocale,c.pathname=null!=(s=e.pathname)?s:c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(u):(0,n.normalizeLocalePath)(u,l.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},1193:(e,t)=>{"use strict";function parsePath(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return parsePath}})},9203:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return pathHasPrefix}});let n=r(1193);function pathHasPrefix(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},8200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return removePathPrefix}});let n=r(9203);function removePathPrefix(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},8056:e=>{"use strict";let t=/^[-+]?0x[a-fA-F0-9]+$/,r=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);let n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function toNumber(e,i={}){if(i=Object.assign({},n,i),!e||"string"!=typeof e)return e;let o=e.trim();if(void 0!==i.skipLike&&i.skipLike.test(o))return e;if(i.hex&&t.test(o))return Number.parseInt(o,16);{let t=r.exec(o);if(!t)return e;{let r=t[1],n=t[2],s=trimZeros(t[3]),a=t[4]||t[6];if(!i.leadingZeros&&n.length>0&&r&&"."!==o[2])return e;{if(!i.leadingZeros&&n.length>0&&!r&&"."!==o[1])return e;let t=Number(o),l=""+t;return -1!==l.search(/[eE]/)||a?i.eNotation?t:e:-1!==o.indexOf(".")?"0"===l&&""===s?t:l===s?t:r&&l==="-"+s?t:e:n?s===l?t:r+s===l?t:e:o===l?t:o===r+l?t:e}}}}function trimZeros(e){return e&&-1!==e.indexOf(".")&&("."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1))),e}e.exports=toNumber}};