(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},2546:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d});var a=s(7096),r=s(6132),n=s(7284),i=s.n(n),o=s(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5340)),"/Users/johnpolacek/Sites/localhost/sst-nextjs-dynamodb-example/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,9113)),"/Users/johnpolacek/Sites/localhost/sst-nextjs-dynamodb-example/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/johnpolacek/Sites/localhost/sst-nextjs-dynamodb-example/src/app/page.tsx"],p="/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7035:(e,t,s)=>{Promise.resolve().then(s.bind(s,9184))},9184:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ItemsList});var a=s(784),r=s(7146),n=s(9885);let util_fetcher=e=>fetch(e).then(e=>e.json());function ItemsList(){let{data:e,error:t}=(0,r.ZP)("/api/items",util_fetcher),[s,i]=(0,n.useState)(""),handleAddItem=async()=>{let t={id:{S:""},content:{S:s}},a=e?[...e,t]:[t];(0,r.JG)("/api/items",a,!1);let n=await fetch("/api/item/create",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:s})});n.ok?((0,r.JG)("/api/items"),i("")):(console.error("Failed to add item:",n.statusText),(0,r.JG)("/api/items",e,!1))},handleDeleteItem=async t=>{let s=e.filter(e=>e.id.S!==t);(0,r.JG)("/api/items",s,!1);let a=await fetch("/api/item/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});a.ok?(0,r.JG)("/api/items"):(console.error("Failed to delete item:",a.statusText),(0,r.JG)("/api/items",e,!1))};return t?(0,a.jsxs)("div",{className:"text-red-500",children:["An error has occurred: ",t.message]}):e?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"border mt-2 mb-8",children:0===e.length?a.jsx("div",{className:"p-4 text-gray-500",children:"No items yet."}):a.jsx("ul",{className:"flex flex-col divide-y",children:e.map((e,t)=>(0,a.jsxs)("li",{className:"p-4 flex items-center justify-between",children:[e.content.S,a.jsx("button",{onClick:()=>handleDeleteItem(e.id.S),className:"text-red-600 px-2 scale-150",children:"\xd7"})]},t))})}),a.jsx("h3",{className:"text-lg my-1",children:"Add Item"}),a.jsx("input",{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"New item content",className:"border border-gray-300 p-2 rounded-lg mb-4 w-full"}),a.jsx("button",{onClick:handleAddItem,className:"bg-blue-500 text-white py-2 px-4 rounded mb-4",children:"Add Item"})]}):a.jsx("div",{className:"text-gray-500 text-xl text-center py-16 italic",children:"Loading..."})}},5340:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Home});var a=s(4656),r=s(5153);let n=(0,r.createProxy)(String.raw`/Users/johnpolacek/Sites/localhost/sst-nextjs-dynamodb-example/src/app/components/items-list.js`),{__esModule:i,$$typeof:o}=n,l=n.default;function Home(){return a.jsx("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"container max-w-[480px] mx-auto my-10",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Items"}),a.jsx(l,{})]})})}},3881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=s(8531);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,a.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[126,834,105,885],()=>__webpack_exec__(2546));module.exports=s})();